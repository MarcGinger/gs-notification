{
  "service": {
    "name": "core-lookup",
    "boundedContext": "core",
    "application": "lookup",
    "moduleName": "core",
    "version": "1",
    "hasRedis": true,
    "hasSql": true,
    "hasEventStream": true
  },
  "tables": [
    {
      "name": "lookup",
      "description": "",
      "columns": [
        {
          "name": "lookup_type",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "LookupType",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Foreign key reference to lookup_type table. Defines the category or type of this lookup entry, enabling grouping and filtering of related lookup values.",
          "defaultvalue": "",
          "example": "COUNTRY",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "relationship": "one",
          "parentRelationship": "lookup_type_lookup",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        },
        {
          "name": "code",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Primary key and unique identifier for the lookup entry. Used as the canonical reference value when this lookup is selected or referenced by other entities.",
          "defaultvalue": "",
          "example": "USA",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        },
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Human-readable display name for the lookup entry. This is the text that should be shown to users in forms, dropdowns, and reports rather than the technical code.",
          "defaultvalue": "",
          "example": "United States",
          "autoIncrement": false,
          "maxLength": "128",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 128
          }
        },
        {
          "name": "description",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "TEXT",
          "primaryKey": false,
          "required": false,
          "description": "Optional detailed description providing additional context, usage notes, or business rules for this lookup entry. Can include markdown formatting for rich text display.",
          "defaultvalue": "",
          "example": "Primary currency used in the United States and its territories",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 65535
          }
        },
        {
          "name": "enabled",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Controls whether this lookup entry is active and available for selection. When false, the entry is hidden from user interfaces but preserved for historical data integrity.",
          "defaultvalue": "true",
          "example": "true",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "attributes",
          "type": "Record<string, unknown>",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "JSON",
          "primaryKey": false,
          "required": false,
          "description": "Dynamic JSON object containing custom attributes specific to this lookup entry. Structure and validation rules are defined by the associated lookup_type's attributerules.",
          "defaultvalue": "",
          "example": "{\"iso_code\": \"USD\", \"symbol\": \"$\"}",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "json",
            "jsonShape": "object"
          }
        }
      ],
      "relationships": [
        {
          "name": "lookup_type_lookup",
          "parentTable": "lookup_type",
          "parentColumn": {
            "name": "code",
            "type": "string",
            "childRelationshipType": "Lookup",
            "parentRelationshipType": "",
            "datatype": "VARCHAR",
            "primaryKey": true,
            "required": true,
            "description": "Primary key and unique identifier for the lookup type. Defines the category or classification that groups related lookup entries together.",
            "defaultvalue": "",
            "example": "COUNTRY",
            "autoIncrement": false,
            "maxLength": "64",
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "parentRelationship": "",
            "childRelationship": "lookup_type_lookup",
            "meta": {
              "kind": "string",
              "maxLength": 64
            }
          },
          "childTable": "lookup",
          "childColumn": {
            "name": "lookup_type",
            "type": "string",
            "childRelationshipType": "",
            "parentRelationshipType": "LookupType",
            "datatype": "VARCHAR",
            "primaryKey": false,
            "required": true,
            "description": "Foreign key reference to lookup_type table. Defines the category or type of this lookup entry, enabling grouping and filtering of related lookup values.",
            "defaultvalue": "",
            "example": "COUNTRY",
            "autoIncrement": false,
            "maxLength": "64",
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "one",
            "parentRelationship": "lookup_type_lookup",
            "childRelationship": "",
            "meta": {
              "kind": "string",
              "maxLength": 64
            }
          },
          "type": "one",
          "complex": true
        }
      ],
      "lines": [],
      "keys": [
        {
          "name": "code",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Primary key and unique identifier for the lookup entry. Used as the canonical reference value when this lookup is selected or referenced by other entities.",
          "defaultvalue": "",
          "example": "USA",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        }
      ],
      "indexes": [],
      "docs": {
        "name": "Lookup",
        "summary": "Configuration for lookup table",
        "version": "1.0.0"
      },
      "apis": {},
      "store": {
        "read": "memory",
        "write": "memory",
        "query": "memory",
        "projector": "memory"
      },
      "options": {
        "command": true,
        "create": true,
        "update": true,
        "read": "memory",
        "write": "memory",
        "query": "memory",
        "projector": "memory",
        "queue": false,
        "softDelete": true,
        "timestamps": true,
        "versioning": true,
        "logging": true,
        "auditing": true,
        "caching": true,
        "eventStreaming": false
      },
      "cancel": {
        "create": false,
        "update": false,
        "delete": false,
        "batch": false,
        "get": false
      },
      "redis": {
        "prefix": "",
        "version": "1.0",
        "category": "core:lookup.lookup.v1",
        "ttl": 3600,
        "hash": true,
        "aggregate": "lookup"
      },
      "eventstream": {
        "boundedContext": "core",
        "aggregate": "lookup",
        "version": "v1",
        "stream": "core.lookup.lookup",
        "createdEvent": "CoreLookupLookupCreated.v1",
        "updatedEvent": "CoreLookupLookupUpdated.v1",
        "deletedEvent": "CoreLookupLookupDeleted.v1"
      },
      "permissions": {
        "bulk": [
          "update",
          "delete",
          "import"
        ],
        "adminOverride": true,
        "auditView": true,
        "custom": []
      },
      "domainName": "",
      "parentPath": []
    },
    {
      "name": "attributerule",
      "description": "",
      "columns": [
        {
          "name": "id",
          "type": "Record<string, unknown>",
          "childRelationshipType": "LookupType",
          "parentRelationshipType": "",
          "datatype": "JSON",
          "primaryKey": true,
          "required": true,
          "description": "Primary key as JSON object containing composite identifier. Typically includes tenant context and unique rule identifier for multi-tenant attribute rule management.",
          "defaultvalue": "",
          "example": "{\"tenant\": \"default\", \"rule_id\": \"email_validation\"}",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "relationship": "object",
          "parentRelationship": "",
          "childRelationship": "attributerule_lookup_type",
          "meta": {
            "kind": "json",
            "jsonShape": "object"
          }
        },
        {
          "name": "code",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Unique technical identifier for the attribute rule within its scope. Used as a stable reference that doesn't change even if the display name is updated.",
          "defaultvalue": "",
          "example": "email_validation",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        },
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Human-readable name for the attribute rule that will be displayed in forms and admin interfaces. Should be descriptive and user-friendly.",
          "defaultvalue": "",
          "example": "Email Format Validation",
          "autoIncrement": false,
          "maxLength": "60",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 60
          }
        },
        {
          "name": "description",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "TEXT",
          "primaryKey": false,
          "required": false,
          "description": "Detailed explanation of what this attribute rule validates, including business context, usage examples, and any special considerations for implementation.",
          "defaultvalue": "",
          "example": "Validates email addresses using RFC 5322 standard format",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 65535
          }
        },
        {
          "name": "type",
          "type": "AttributeruleTypeEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": true,
          "description": "Data type classification for the attribute field. Determines validation logic, storage format, and UI input controls to be used for this attribute.",
          "defaultvalue": "",
          "example": "string",
          "autoIncrement": false,
          "enum": [
            {
              "key": "string"
            },
            {
              "key": "boolean"
            },
            {
              "key": "integer"
            },
            {
              "key": "currency"
            },
            {
              "key": "date"
            },
            {
              "key": "datetime"
            },
            {
              "key": "other"
            }
          ],
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "string",
              "boolean",
              "integer",
              "currency",
              "date",
              "datetime",
              "other"
            ],
            "enumName": "type"
          }
        },
        {
          "name": "reference",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Indicates whether this attribute can be used as a searchable reference or lookup key. When true, the attribute will be indexed for efficient querying.",
          "defaultvalue": "false",
          "example": "false",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "reserved",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Protects critical system attributes from modification or deletion. When true, attempts to update or remove this rule will be rejected to maintain system integrity.",
          "defaultvalue": "false",
          "example": "false",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "unique",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "boolean",
          "primaryKey": false,
          "required": false,
          "description": "Enforces uniqueness constraint across all entities using this attribute. When true, duplicate values will be rejected with validation error.",
          "defaultvalue": "false",
          "example": "true",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "unique_error",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": false,
          "description": "Custom error message displayed when uniqueness validation fails. Should be user-friendly and provide clear guidance on resolution.",
          "defaultvalue": "",
          "example": "This email address is already registered in the system",
          "autoIncrement": false,
          "maxLength": "255",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 255
          }
        },
        {
          "name": "required",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "boolean",
          "primaryKey": false,
          "required": false,
          "description": "Specifies whether this attribute must have a value. When true, empty or null values will trigger validation errors during entity creation or updates.",
          "defaultvalue": "false",
          "example": "true",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "required_error",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": false,
          "description": "Custom error message shown when a required field is missing or empty. Should clearly indicate which field needs to be completed.",
          "defaultvalue": "",
          "example": "Email address is required to create an account",
          "autoIncrement": false,
          "maxLength": "255",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 255
          }
        },
        {
          "name": "regex",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": false,
          "description": "Regular expression pattern for format validation. When specified, attribute values must match this pattern or validation will fail.",
          "defaultvalue": "",
          "example": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
          "autoIncrement": false,
          "maxLength": "120",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 120
          }
        },
        {
          "name": "regex_error",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": false,
          "description": "Custom error message displayed when regex pattern validation fails. Should explain the expected format and provide examples.",
          "defaultvalue": "",
          "example": "Please enter a valid email address (e.g., user@domain.com)",
          "autoIncrement": false,
          "maxLength": "255",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 255
          }
        }
      ],
      "relationships": [
        {
          "name": "attributerule_lookup_type",
          "parentTable": "attributerule",
          "parentColumn": {
            "name": "id",
            "type": "Record<string, unknown>",
            "childRelationshipType": "LookupType",
            "parentRelationshipType": "",
            "datatype": "JSON",
            "primaryKey": true,
            "required": true,
            "description": "Primary key as JSON object containing composite identifier. Typically includes tenant context and unique rule identifier for multi-tenant attribute rule management.",
            "defaultvalue": "",
            "example": "{\"tenant\": \"default\", \"rule_id\": \"email_validation\"}",
            "autoIncrement": false,
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "object",
            "parentRelationship": "",
            "childRelationship": "attributerule_lookup_type",
            "meta": {
              "kind": "json",
              "jsonShape": "object"
            }
          },
          "childTable": "lookup_type",
          "childColumn": {
            "name": "attributerules",
            "type": "Record<string, unknown>",
            "childRelationshipType": "",
            "parentRelationshipType": "Attributerule",
            "datatype": "JSON",
            "primaryKey": false,
            "required": true,
            "description": "JSON array of attribute rule references that define the dynamic schema for lookup entries of this type. Links to attributerule table for validation logic.",
            "defaultvalue": "",
            "example": "[{\"tenant\": \"default\", \"rule_id\": \"iso_code\"}]",
            "autoIncrement": false,
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "object",
            "parentRelationship": "attributerule_lookup_type",
            "childRelationship": "",
            "meta": {
              "kind": "json",
              "jsonShape": "object"
            }
          },
          "type": "object",
          "complex": true
        }
      ],
      "lines": [],
      "keys": [
        {
          "name": "id",
          "type": "Record<string, unknown>",
          "childRelationshipType": "LookupType",
          "parentRelationshipType": "",
          "datatype": "JSON",
          "primaryKey": true,
          "required": true,
          "description": "Primary key as JSON object containing composite identifier. Typically includes tenant context and unique rule identifier for multi-tenant attribute rule management.",
          "defaultvalue": "",
          "example": "{\"tenant\": \"default\", \"rule_id\": \"email_validation\"}",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "relationship": "object",
          "parentRelationship": "",
          "childRelationship": "attributerule_lookup_type",
          "meta": {
            "kind": "json",
            "jsonShape": "object"
          }
        }
      ],
      "indexes": [
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Human-readable name for the attribute rule that will be displayed in forms and admin interfaces. Should be descriptive and user-friendly.",
          "defaultvalue": "",
          "example": "Email Format Validation",
          "autoIncrement": false,
          "maxLength": "60",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 60
          }
        }
      ],
      "docs": {
        "name": "Attributerule",
        "summary": "Configuration for attributerule table",
        "version": "1.0.0"
      },
      "apis": {},
      "store": {
        "read": "memory",
        "write": "memory",
        "query": "memory",
        "projector": "memory"
      },
      "options": {
        "command": true,
        "create": true,
        "update": true,
        "read": "memory",
        "write": "memory",
        "query": "memory",
        "projector": "memory",
        "queue": false,
        "softDelete": true,
        "timestamps": true,
        "versioning": true,
        "logging": true,
        "auditing": true,
        "caching": true,
        "eventStreaming": false
      },
      "cancel": {
        "create": false,
        "update": false,
        "delete": false,
        "batch": false,
        "get": false
      },
      "redis": {
        "prefix": "",
        "version": "1.0",
        "category": "core:lookup.attributerule.v1",
        "ttl": 3600,
        "hash": true,
        "aggregate": "attributerule"
      },
      "eventstream": {
        "boundedContext": "core",
        "aggregate": "attributerule",
        "version": "v1",
        "stream": "core.lookup.attributerule",
        "createdEvent": "CoreLookupAttributeruleCreated.v1",
        "updatedEvent": "CoreLookupAttributeruleUpdated.v1",
        "deletedEvent": "CoreLookupAttributeruleDeleted.v1"
      },
      "permissions": {
        "bulk": [
          "update",
          "delete",
          "import"
        ],
        "adminOverride": true,
        "auditView": true,
        "custom": []
      },
      "domainName": "lookup-type",
      "parentPath": [
        "lookup_type"
      ]
    },
    {
      "name": "lookup_type",
      "description": "",
      "columns": [
        {
          "name": "code",
          "type": "string",
          "childRelationshipType": "Lookup",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Primary key and unique identifier for the lookup type. Defines the category or classification that groups related lookup entries together.",
          "defaultvalue": "",
          "example": "COUNTRY",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "lookup_type_lookup",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        },
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Human-readable display name for the lookup type. Used in administrative interfaces and documentation to describe the purpose of this lookup category.",
          "defaultvalue": "",
          "example": "Countries",
          "autoIncrement": false,
          "maxLength": "128",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 128
          }
        },
        {
          "name": "description",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "TEXT",
          "primaryKey": false,
          "required": false,
          "description": "Detailed description explaining the purpose, usage, and business context of this lookup type. May include formatting guidelines and data governance notes.",
          "defaultvalue": "",
          "example": "ISO 3166 country codes and names for international address validation",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 65535
          }
        },
        {
          "name": "enabled",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Controls whether this lookup type is active and available for use. When disabled, the type and its associated lookup entries are hidden from selection interfaces.",
          "defaultvalue": "",
          "example": "true",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "attributerules",
          "type": "Record<string, unknown>",
          "childRelationshipType": "",
          "parentRelationshipType": "Attributerule",
          "datatype": "JSON",
          "primaryKey": false,
          "required": true,
          "description": "JSON array of attribute rule references that define the dynamic schema for lookup entries of this type. Links to attributerule table for validation logic.",
          "defaultvalue": "",
          "example": "[{\"tenant\": \"default\", \"rule_id\": \"iso_code\"}]",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "relationship": "object",
          "parentRelationship": "attributerule_lookup_type",
          "childRelationship": "",
          "meta": {
            "kind": "json",
            "jsonShape": "object"
          }
        }
      ],
      "relationships": [
        {
          "name": "attributerule_lookup_type",
          "parentTable": "attributerule",
          "parentColumn": {
            "name": "id",
            "type": "Record<string, unknown>",
            "childRelationshipType": "LookupType",
            "parentRelationshipType": "",
            "datatype": "JSON",
            "primaryKey": true,
            "required": true,
            "description": "Primary key as JSON object containing composite identifier. Typically includes tenant context and unique rule identifier for multi-tenant attribute rule management.",
            "defaultvalue": "",
            "example": "{\"tenant\": \"default\", \"rule_id\": \"email_validation\"}",
            "autoIncrement": false,
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "object",
            "parentRelationship": "",
            "childRelationship": "attributerule_lookup_type",
            "meta": {
              "kind": "json",
              "jsonShape": "object"
            }
          },
          "childTable": "lookup_type",
          "childColumn": {
            "name": "attributerules",
            "type": "Record<string, unknown>",
            "childRelationshipType": "",
            "parentRelationshipType": "Attributerule",
            "datatype": "JSON",
            "primaryKey": false,
            "required": true,
            "description": "JSON array of attribute rule references that define the dynamic schema for lookup entries of this type. Links to attributerule table for validation logic.",
            "defaultvalue": "",
            "example": "[{\"tenant\": \"default\", \"rule_id\": \"iso_code\"}]",
            "autoIncrement": false,
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "object",
            "parentRelationship": "attributerule_lookup_type",
            "childRelationship": "",
            "meta": {
              "kind": "json",
              "jsonShape": "object"
            }
          },
          "type": "object",
          "complex": true
        },
        {
          "name": "lookup_type_lookup",
          "parentTable": "lookup_type",
          "parentColumn": {
            "name": "code",
            "type": "string",
            "childRelationshipType": "Lookup",
            "parentRelationshipType": "",
            "datatype": "VARCHAR",
            "primaryKey": true,
            "required": true,
            "description": "Primary key and unique identifier for the lookup type. Defines the category or classification that groups related lookup entries together.",
            "defaultvalue": "",
            "example": "COUNTRY",
            "autoIncrement": false,
            "maxLength": "64",
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "parentRelationship": "",
            "childRelationship": "lookup_type_lookup",
            "meta": {
              "kind": "string",
              "maxLength": 64
            }
          },
          "childTable": "lookup",
          "childColumn": {
            "name": "lookup_type",
            "type": "string",
            "childRelationshipType": "",
            "parentRelationshipType": "LookupType",
            "datatype": "VARCHAR",
            "primaryKey": false,
            "required": true,
            "description": "Foreign key reference to lookup_type table. Defines the category or type of this lookup entry, enabling grouping and filtering of related lookup values.",
            "defaultvalue": "",
            "example": "COUNTRY",
            "autoIncrement": false,
            "maxLength": "64",
            "array": false,
            "isPII": "",
            "secret": false,
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "one",
            "parentRelationship": "lookup_type_lookup",
            "childRelationship": "",
            "meta": {
              "kind": "string",
              "maxLength": 64
            }
          },
          "type": "one",
          "complex": true
        }
      ],
      "lines": [],
      "keys": [
        {
          "name": "code",
          "type": "string",
          "childRelationshipType": "Lookup",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Primary key and unique identifier for the lookup type. Defines the category or classification that groups related lookup entries together.",
          "defaultvalue": "",
          "example": "COUNTRY",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "lookup_type_lookup",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        }
      ],
      "indexes": [
        {
          "name": "code",
          "type": "string",
          "childRelationshipType": "Lookup",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Primary key and unique identifier for the lookup type. Defines the category or classification that groups related lookup entries together.",
          "defaultvalue": "",
          "example": "COUNTRY",
          "autoIncrement": false,
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "lookup_type_lookup",
          "meta": {
            "kind": "string",
            "maxLength": 64
          }
        },
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Human-readable display name for the lookup type. Used in administrative interfaces and documentation to describe the purpose of this lookup category.",
          "defaultvalue": "",
          "example": "Countries",
          "autoIncrement": false,
          "maxLength": "128",
          "array": false,
          "isPII": "",
          "secret": false,
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 128
          }
        }
      ],
      "docs": {
        "name": "Lookup_type",
        "summary": "Configuration for lookup_type table",
        "version": "1.0.0"
      },
      "apis": {},
      "store": {
        "read": "memory",
        "write": "memory",
        "query": "memory",
        "projector": "memory"
      },
      "options": {
        "command": true,
        "create": true,
        "update": true,
        "read": "memory",
        "write": "memory",
        "query": "memory",
        "projector": "memory",
        "queue": false,
        "softDelete": true,
        "timestamps": true,
        "versioning": true,
        "logging": true,
        "auditing": true,
        "caching": true,
        "eventStreaming": false
      },
      "cancel": {
        "create": false,
        "update": false,
        "delete": false,
        "batch": false,
        "get": false
      },
      "redis": {
        "prefix": "",
        "version": "1.0",
        "category": "core:lookup.lookup.type.v1",
        "ttl": 3600,
        "hash": true,
        "aggregate": "lookup_type"
      },
      "eventstream": {
        "boundedContext": "core",
        "aggregate": "lookup_type",
        "version": "v1",
        "stream": "core.lookup.lookupType",
        "createdEvent": "CoreLookupLookupTypeCreated.v1",
        "updatedEvent": "CoreLookupLookupTypeUpdated.v1",
        "deletedEvent": "CoreLookupLookupTypeDeleted.v1"
      },
      "permissions": {
        "bulk": [
          "update",
          "delete",
          "import"
        ],
        "adminOverride": true,
        "auditView": true,
        "custom": []
      },
      "domainName": "",
      "parentPath": []
    }
  ],
  "relationships": [
    {
      "name": "attributerule_lookup_type",
      "parentTable": "attributerule",
      "parentColumn": {
        "name": "id",
        "type": "Record<string, unknown>",
        "childRelationshipType": "LookupType",
        "parentRelationshipType": "",
        "datatype": "JSON",
        "primaryKey": true,
        "required": true,
        "description": "Primary key as JSON object containing composite identifier. Typically includes tenant context and unique rule identifier for multi-tenant attribute rule management.",
        "defaultvalue": "",
        "example": "{\"tenant\": \"default\", \"rule_id\": \"email_validation\"}",
        "autoIncrement": false,
        "array": false,
        "isPII": "",
        "secret": false,
        "create": true,
        "update": true,
        "get": true,
        "list": true,
        "relationship": "object",
        "parentRelationship": "",
        "childRelationship": "attributerule_lookup_type",
        "meta": {
          "kind": "json",
          "jsonShape": "object"
        }
      },
      "childTable": "lookup_type",
      "childColumn": {
        "name": "attributerules",
        "type": "Record<string, unknown>",
        "childRelationshipType": "",
        "parentRelationshipType": "Attributerule",
        "datatype": "JSON",
        "primaryKey": false,
        "required": true,
        "description": "JSON array of attribute rule references that define the dynamic schema for lookup entries of this type. Links to attributerule table for validation logic.",
        "defaultvalue": "",
        "example": "[{\"tenant\": \"default\", \"rule_id\": \"iso_code\"}]",
        "autoIncrement": false,
        "array": false,
        "isPII": "",
        "secret": false,
        "create": true,
        "update": true,
        "get": true,
        "list": true,
        "relationship": "object",
        "parentRelationship": "attributerule_lookup_type",
        "childRelationship": "",
        "meta": {
          "kind": "json",
          "jsonShape": "object"
        }
      },
      "type": "object",
      "complex": true
    },
    {
      "name": "lookup_type_lookup",
      "parentTable": "lookup_type",
      "parentColumn": {
        "name": "code",
        "type": "string",
        "childRelationshipType": "Lookup",
        "parentRelationshipType": "",
        "datatype": "VARCHAR",
        "primaryKey": true,
        "required": true,
        "description": "Primary key and unique identifier for the lookup type. Defines the category or classification that groups related lookup entries together.",
        "defaultvalue": "",
        "example": "COUNTRY",
        "autoIncrement": false,
        "maxLength": "64",
        "array": false,
        "isPII": "",
        "secret": false,
        "create": true,
        "update": true,
        "get": true,
        "list": true,
        "parentRelationship": "",
        "childRelationship": "lookup_type_lookup",
        "meta": {
          "kind": "string",
          "maxLength": 64
        }
      },
      "childTable": "lookup",
      "childColumn": {
        "name": "lookup_type",
        "type": "string",
        "childRelationshipType": "",
        "parentRelationshipType": "LookupType",
        "datatype": "VARCHAR",
        "primaryKey": false,
        "required": true,
        "description": "Foreign key reference to lookup_type table. Defines the category or type of this lookup entry, enabling grouping and filtering of related lookup values.",
        "defaultvalue": "",
        "example": "COUNTRY",
        "autoIncrement": false,
        "maxLength": "64",
        "array": false,
        "isPII": "",
        "secret": false,
        "create": true,
        "update": true,
        "get": true,
        "list": true,
        "relationship": "one",
        "parentRelationship": "lookup_type_lookup",
        "childRelationship": "",
        "meta": {
          "kind": "string",
          "maxLength": 64
        }
      },
      "type": "one",
      "complex": true
    }
  ],
  "documentation": {
    "name": "lookup management",
    "description": "# ðŸ“˜ Lookup-Type Service â€” Detailed Description\n\n## 1. Purpose and Overview\n\nThe **Lookup-Type Service** is a foundational microservice designed to provide **attribute definition and validation capabilities** to any domain within the system that requires structured, rule-based metadata. It defines the **attribute model**, enforces validation rules, and exposes reusable schemas that other domains can implement.\n\nThis service is not limited to lookups â€” it becomes a **shared attribute policy provider** across multiple bounded contexts, including but not limited to:\n\n* **Lookup** â€” Dynamic attribute extensions for lookup entities.\n* **Person** â€” Additional personal or demographic fields.\n* **Company** â€” Organizational metadata (e.g. registration, sector, type).\n* **Customer** â€” Customer profile extensions, preferences, and classifications.\n* **Supplier** â€” Vendor and service provider attributes.\n* **Employer** â€” Employer metadata, registration details, or compliance data.\n\nBy centralizing attribute definitions, the Lookup-Type Service ensures that every domain implements attributes **consistently, securely, and with shared validation logic**.\n\n---\n\n## 2. Core Responsibilities\n\n### 2.1 Attribute Definition Management\n\n* Define **attribute types** (`string`, `boolean`, `integer`, `currency`, `date`, `datetime`, `other`).\n* Manage **validation rules** for each attribute:\n\n  * Required / optional\n  * Unique constraint\n  * Regex pattern and error messages\n  * Reserved / immutable fields\n  * Reference fields (for indexed search or foreign key mapping)\n* Support **custom domain-specific attribute definitions** under each bounded context.\n\n### 2.2 Lookup-Type Configuration\n\n* Define reusable **attribute schemas** known as `LookupType`.\n* Each `LookupType` describes a **set of attribute rules** that can be inherited or referenced by other services.\n* Maintain versioning and enable/disable control for type definitions.\n\n### 2.3 Validation-as-a-Service\n\nThe service acts as a **validation authority** for other domains that use dynamic attributes. Other microservices can:\n\n* Query `LookupType` and its associated attribute rules.\n* Perform client-side or server-side validation using those rules.\n* Enforce consistent attribute semantics system-wide.\n\n### 2.4 Multi-Domain Reuse\n\nAny domain that manages entities with flexible attributes (e.g., `Person`, `Customer`, `Supplier`) can **register or reference** attribute schemas from this service. This eliminates redundant schema management and promotes schema governance.\n\n---\n\n## 3. Domain Model\n\n### 3.1 LookupType Aggregate\n\n**Purpose:** Represents the blueprint for a set of attributes.\n\n**Attributes:**\n\n* `code` â€” Unique technical identifier for the lookup type (immutable).\n* `name` â€” Human-readable label.\n* `description` â€” Optional detailed explanation.\n* `enabled` â€” Boolean indicating whether the type is active.\n* `attributeRules` â€” A map of attribute rule definitions.\n\n**Responsibilities:**\n\n* Create, update, and deactivate lookup types.\n* Manage collections of `AttributeRule` value objects.\n* Validate integrity between rules (e.g., no duplicate names, reserved rule immutability).\n\n**Domain Events:**\n\n* `LookupTypeCreated`\n* `LookupTypeUpdated`\n* `LookupTypeEnabled`\n* `LookupTypeDisabled`\n* `LookupTypeAttributeRuleAdded`\n* `LookupTypeAttributeRuleUpdated`\n* `LookupTypeAttributeRuleRemoved`\n\n### 3.2 AttributeRule Value Object\n\n**Purpose:** Describes the behavior and constraints of a single attribute field.\n\n**Attributes:**\n\n* `name` â€” Unique name of the attribute.\n* `description` â€” What the attribute represents.\n* `type` â€” Data type (`string`, `integer`, `boolean`, etc.).\n* `required` â€” Indicates whether the attribute must always be present.\n* `unique` â€” Indicates if the value must be unique across the domain.\n* `regex` â€” Optional validation pattern.\n* `reference` â€” Indicates if the field can be used as a lookup key or external reference.\n* `reserved` â€” Protects critical attributes from deletion or modification.\n\n**Validation Behavior:**\n\n* Enforces type safety, uniqueness, and presence.\n* Provides error messages for validation failures (`requiredError`, `uniqueError`, `regexError`).\n\n---\n\n## 4. Integration and Implementation Model\n\n### 4.1 API Integration\n\nOther domains use the Lookup-Type Service via REST or internal service calls:\n\n#### Query APIs\n\n* `GET /api/v1/lookup-types` â€” List available lookup types.\n* `GET /api/v1/lookup-types/{code}` â€” Retrieve a specific type definition.\n\n#### Command APIs\n\n* `POST /api/v1/lookup-types` â€” Create a new type definition.\n* `PUT /api/v1/lookup-types/{code}` â€” Update a type definition and attribute rules.\n\nEach domain can cache or project these definitions locally for fast runtime validation.\n\n### 4.2 Domain Integration Pattern\n\nEach bounded context that supports dynamic attributes (e.g. Person, Company) implements an **AttributeRuleAdapter** or **AttributeRuleValidator** component:\n\n1. On entity creation/update, the service queries the Lookup-Type projection for the relevant type definition.\n2. AttributeRuleValidator enforces the rules.\n3. If validation passes, the entity is persisted.\n4. Violations trigger domain-level validation errors.\n\n### 4.3 Event-Driven Synchronization\n\n* `LookupType` and `AttributeRule` changes are published as **domain events** (via EventStoreDB or message bus).\n* Subscribing domains update their local projections to maintain current rule sets.\n\n---\n\n## 5. Architectural Role\n\n### 5.1 Shared Governance Layer\n\n* Provides a **single point of truth** for attribute rules.\n* Prevents each service from reinventing attribute schemas.\n* Supports auditability â€” changes to attribute definitions are event-sourced and version-controlled.\n\n### 5.2 Enabler for Dynamic Schemas\n\nBy decoupling attribute definitions from entity persistence:\n\n* Entities across domains can evolve without database migrations.\n* New attributes can be added dynamically by updating the ruleset.\n* Front-end forms (e.g. FEML) can render fields based on the active schema.\n\n### 5.3 Multi-Tenant Support\n\nEach `LookupType` and `AttributeRule` can be **scoped per tenant**, allowing custom attribute definitions for each tenant or organization.\n\nKey identifier pattern:\n\n```\ncore-lookup-type:v1:{tenant}:type:{lookupTypeCode}\ncore-lookup-type:v1:{tenant}:rule:{attributeName}\n```\n\n---\n\n## 6. Example Use Cases\n\n### 6.1 Lookup Domain\n\nDefines the schema for lookup entities:\n\n```json\n{\n  \"code\": \"ACCOUNT_STATUS\",\n  \"attributeRules\": {\n    \"category\": { \"type\": \"string\", \"required\": true },\n    \"terminal\": { \"type\": \"boolean\", \"required\": true }\n  }\n}\n```\n\nEach `Lookup` instance uses these rules to validate its attributes.\n\n### 6.2 Person Domain\n\nAllows additional attributes beyond fixed identity fields:\n\n```json\n{\n  \"code\": \"PERSON_PROFILE\",\n  \"attributeRules\": {\n    \"maritalStatus\": { \"type\": \"string\" },\n    \"employmentType\": { \"type\": \"string\" }\n  }\n}\n```\n\n### 6.3 Customer Domain\n\nManages customer metadata through reusable definitions:\n\n```json\n{\n  \"code\": \"CUSTOMER_CLASSIFICATION\",\n  \"attributeRules\": {\n    \"riskLevel\": { \"type\": \"string\", \"required\": true },\n    \"creditScore\": { \"type\": \"integer\" }\n  }\n}\n```\n\n---\n\n## 7. Benefits\n\n* **Centralized validation and governance** across all domains.\n* **Reduced coupling** â€” domains depend on rules, not hard-coded schemas.\n* **Dynamic extensibility** â€” new attributes require no schema migration.\n* **Auditability** â€” every rule change produces an event for traceability.\n* **Improved front-end flexibility** â€” FEML or Angular UIs can render fields dynamically.\n\n---\n\n## 8. Summary\n\nThe **Lookup-Type Service** establishes a unified, event-driven framework for defining and enforcing attribute rules across the entire platform. It acts as the **metadata backbone** for domains that require dynamic, extensible, and validated entity attributes.\n\nIt transforms attribute governance from a scattered, per-domain concern into a centralized, reusable, and evolvable capability â€” supporting compliance, adaptability, and developer productivity throughout the ecosystem.\n"
  }
}