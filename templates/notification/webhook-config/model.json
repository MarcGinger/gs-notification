{
  "service": {
    "name": "notification-webhook-config",
    "boundedContext": "notification",
    "application": "webhook-config",
    "moduleName": "notification.slack",
    "version": "1",
    "hasRedis": true,
    "hasSql": true,
    "hasEventStream": true
  },
  "tables": [
    {
      "name": "webhook",
      "description": "## üîó Webhook\n\n### **Purpose**\n\nThe \\`Webhook\\` aggregate represents a webhook endpoint configuration for delivering events to external systems. It acts as the foundational configuration point that defines how, where, and under what conditions webhook notifications are sent.\n\nThis aggregate holds delivery configuration including target URLs, HTTP methods, headers, signing secrets, and operational settings. It ensures webhook deliveries are properly configured and can be managed independently.\n\n### **Responsibilities**\n\n* Define webhook endpoint details (URL, method, headers).\n* Manage webhook operational status (active, paused, disabled).\n* Store webhook-specific timeout and TLS verification settings.\n* Reference signing secrets for webhook authentication.\n* Emit events when webhook configuration changes occur.\n\n### **Why It Matters**\n\nThe \\`Webhook\\` aggregate provides the essential configuration for reliable event delivery to external systems. It ensures proper authentication, timeout handling, and operational control over webhook endpoints.\n",
      "columns": [
        {
          "name": "id",
          "type": "string",
          "childRelationshipType": "Config",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "minLength": "10",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "webhook_config",
          "meta": {
            "kind": "string",
            "minLength": 10,
            "maxLength": 32
          }
        },
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "255",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 255
          }
        },
        {
          "name": "description",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "TEXT",
          "primaryKey": false,
          "required": false,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 65535
          }
        },
        {
          "name": "targetUrl",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "TEXT",
          "primaryKey": false,
          "required": true,
          "description": "Required webhook target URL",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 65535
          }
        },
        {
          "name": "eventType",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Event type identifier, e.g. 'product.created.v1'",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "128",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 128
          }
        },
        {
          "name": "method",
          "type": "WebhookMethodEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": true,
          "description": "HTTP method for webhook delivery",
          "defaultvalue": "POST",
          "example": "",
          "autoIncrement": false,
          "enum": [
            {
              "key": "GET"
            },
            {
              "key": "POST"
            },
            {
              "key": "PUT"
            },
            {
              "key": "PATCH"
            },
            {
              "key": "DELETE"
            }
          ],
          "maxLength": "64",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "GET",
              "POST",
              "PUT",
              "PATCH",
              "DELETE"
            ],
            "enumName": "method"
          }
        },
        {
          "name": "headers",
          "type": "Record<string, unknown>",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "JSON",
          "primaryKey": false,
          "required": false,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "json",
            "jsonShape": "object"
          }
        },
        {
          "name": "signingSecretRef",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": false,
          "description": "Reference to signing secret (not raw value)",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "128",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 128
          }
        },
        {
          "name": "status",
          "type": "WebhookStatusEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": true,
          "description": "Webhook operational status",
          "defaultvalue": "active",
          "example": "",
          "autoIncrement": false,
          "enum": [
            {
              "key": "active"
            },
            {
              "key": "paused"
            },
            {
              "key": "disabled"
            }
          ],
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "active",
              "paused",
              "disabled"
            ],
            "enumName": "status"
          }
        },
        {
          "name": "verifyTls",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Whether to verify TLS certificates",
          "defaultvalue": "true",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "requestTimeoutMs",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Request timeout in milliseconds",
          "defaultvalue": "10000",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "connectTimeoutMs",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Connection timeout in milliseconds",
          "defaultvalue": "3000",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "rateLimitPerMinute",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Optional per-webhook rate limit",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        }
      ],
      "relationships": [
        {
          "name": "webhook_config",
          "parentTable": "webhook",
          "parentColumn": {
            "name": "id",
            "type": "string",
            "childRelationshipType": "Config",
            "parentRelationshipType": "",
            "datatype": "VARCHAR",
            "primaryKey": true,
            "required": true,
            "description": "",
            "defaultvalue": "",
            "example": "",
            "autoIncrement": false,
            "maxLength": "32",
            "minLength": "10",
            "array": false,
            "isPII": "",
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "parentRelationship": "",
            "childRelationship": "webhook_config",
            "meta": {
              "kind": "string",
              "minLength": 10,
              "maxLength": 32
            }
          },
          "childTable": "config",
          "childColumn": {
            "name": "webhookId",
            "type": "string",
            "childRelationshipType": "",
            "parentRelationshipType": "Webhook",
            "datatype": "VARCHAR",
            "primaryKey": false,
            "required": false,
            "description": "Optional webhook-specific override",
            "defaultvalue": "",
            "example": "",
            "autoIncrement": false,
            "maxLength": "32",
            "array": false,
            "isPII": "",
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "one",
            "parentRelationship": "webhook_config",
            "childRelationship": "",
            "meta": {
              "kind": "string",
              "maxLength": 32
            }
          },
          "type": "one",
          "complex": true
        }
      ],
      "lines": [],
      "keys": [
        {
          "name": "id",
          "type": "string",
          "childRelationshipType": "Config",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "minLength": "10",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "webhook_config",
          "meta": {
            "kind": "string",
            "minLength": 10,
            "maxLength": 32
          }
        }
      ],
      "indexes": [
        {
          "name": "id",
          "type": "string",
          "childRelationshipType": "Config",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "minLength": "10",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "webhook_config",
          "meta": {
            "kind": "string",
            "minLength": 10,
            "maxLength": 32
          }
        },
        {
          "name": "name",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "255",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 255
          }
        }
      ],
      "docs": {
        "name": "Webhook",
        "summary": "Configuration for webhook table",
        "version": "1.0.0"
      },
      "apis": {},
      "store": {
        "read": "redis",
        "write": "kurrentdb",
        "query": "redis",
        "projector": "redis"
      },
      "options": {
        "command": true,
        "create": true,
        "update": true,
        "read": "redis",
        "write": "kurrentdb",
        "query": "redis",
        "projector": "redis",
        "queue": false,
        "softDelete": false,
        "timestamps": true,
        "versioning": true,
        "logging": true,
        "auditing": true,
        "caching": true,
        "eventStreaming": false
      },
      "cancel": {
        "create": false,
        "update": false,
        "delete": false,
        "batch": false,
        "get": false
      },
      "redis": {
        "prefix": "",
        "version": "1.0",
        "category": "notification:webhook-config.webhook.v1",
        "ttl": 3600,
        "hash": true,
        "aggregate": "webhook"
      },
      "eventstream": {
        "boundedContext": "notification",
        "aggregate": "webhook",
        "version": "v1",
        "stream": "notification.webhookConfig.webhook",
        "createdEvent": "NotificationWebhookConfigWebhookCreated.v1",
        "updatedEvent": "NotificationWebhookConfigWebhookUpdated.v1",
        "deletedEvent": "NotificationWebhookConfigWebhookDeleted.v1"
      },
      "permissions": {
        "bulk": [
          "update",
          "delete",
          "import"
        ],
        "adminOverride": true,
        "auditView": true,
        "custom": []
      },
      "domainName": "",
      "parentPath": []
    },
    {
      "name": "config",
      "description": "## ‚öôÔ∏è SlackAppConfig\n\n### **Purpose**\n\nThe \\`SlackAppConfig\\` aggregate manages system-wide operational parameters for the Slack integration within a tenant‚Äôs workspace. It defines how the app behaves under various runtime conditions, such as retries, logging, and audit behavior.\n\nThis configuration ensures that message delivery is resilient and aligned with organizational policies (e.g., how many times to retry sending, whether to log every event, which audit channel to use, etc.).\n\n### **Responsibilities**\n\n* Manage retry and backoff policies for message delivery.\n* Enable or disable message-level logging for auditing.\n* Define the audit channel ID for operational or compliance logs.\n* Maintain default locale, metadata, and other operational flags.\n* Emit configuration change events for runtime synchronization.\n\n### **Why It Matters**\n\n\\`SlackAppConfig\\` provides the **operational backbone** for Slack messaging. It ensures reliability, compliance, and observability ‚Äî allowing organizations to manage how Slack notifications behave at scale and during failures.\n\n",
      "columns": [
        {
          "name": "id",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Configuration identity",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 32
          }
        },
        {
          "name": "webhookId",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "Webhook",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": false,
          "description": "Optional webhook-specific override",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "relationship": "one",
          "parentRelationship": "webhook_config",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 32
          }
        },
        {
          "name": "tenantId",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Tenant identifier for per-tenant configs",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 32
          }
        },
        {
          "name": "strategy",
          "type": "ConfigStrategyEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": true,
          "description": "Configuration strategy scope",
          "defaultvalue": "per-tenant",
          "example": "",
          "autoIncrement": false,
          "enum": [
            {
              "key": "per-webhook"
            },
            {
              "key": "per-tenant"
            },
            {
              "key": "global"
            }
          ],
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "per-webhook",
              "per-tenant",
              "global"
            ],
            "enumName": "strategy"
          }
        },
        {
          "name": "maxRetryAttempts",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": true,
          "description": "Maximum retry attempts",
          "defaultvalue": "6",
          "example": "6",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "retryBackoffSeconds",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": true,
          "description": "Base backoff time in seconds",
          "defaultvalue": "5",
          "example": "5",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "retryStrategy",
          "type": "ConfigRetryStrategyEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": false,
          "description": "Retry backoff strategy",
          "defaultvalue": "exponential",
          "example": "",
          "autoIncrement": false,
          "enum": [
            {
              "key": "exponential"
            },
            {
              "key": "linear"
            },
            {
              "key": "fixed"
            }
          ],
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "exponential",
              "linear",
              "fixed"
            ],
            "enumName": "retryStrategy"
          }
        },
        {
          "name": "backoffJitterPct",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Jitter percentage for backoff",
          "defaultvalue": "20",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "requestTimeoutMs",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Request timeout in milliseconds",
          "defaultvalue": "10000",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "connectTimeoutMs",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Connection timeout in milliseconds",
          "defaultvalue": "3000",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "signatureAlgorithm",
          "type": "ConfigSignatureAlgorithmEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": false,
          "description": "Signature algorithm for webhook signing",
          "defaultvalue": "sha256",
          "example": "",
          "autoIncrement": false,
          "enum": [
            {
              "key": "sha256"
            },
            {
              "key": "sha1"
            }
          ],
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "sha256",
              "sha1"
            ],
            "enumName": "signatureAlgorithm"
          }
        },
        {
          "name": "includeTimestampHeader",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Include timestamp header for signatures",
          "defaultvalue": "true",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "maxConcurrent",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Worker concurrency cap",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "dlqEnabled",
          "type": "boolean",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "BOOLEAN",
          "primaryKey": false,
          "required": false,
          "description": "Dead letter queue enabled",
          "defaultvalue": "true",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "boolean"
          }
        },
        {
          "name": "dlqMaxAgeSeconds",
          "type": "number",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "INT",
          "primaryKey": false,
          "required": false,
          "description": "Dead letter queue max age in seconds",
          "defaultvalue": "604800",
          "example": "",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "number",
            "autoIncrement": false
          }
        },
        {
          "name": "ordering",
          "type": "ConfigOrderingEnum",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "ENUM",
          "primaryKey": false,
          "required": false,
          "description": "Message ordering strategy",
          "defaultvalue": "fifo",
          "example": "",
          "autoIncrement": false,
          "enum": [
            {
              "key": "fifo"
            },
            {
              "key": "loose"
            }
          ],
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "enum",
            "enumValues": [
              "fifo",
              "loose"
            ],
            "enumName": "ordering"
          }
        },
        {
          "name": "defaultLocale",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": false,
          "required": true,
          "description": "Default locale, e.g. 'en-ZA'",
          "defaultvalue": "en-US",
          "example": "en-US",
          "autoIncrement": false,
          "maxLength": "16",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 16
          }
        },
        {
          "name": "metadata",
          "type": "Record<string, unknown>",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "JSON",
          "primaryKey": false,
          "required": false,
          "description": "Flexible JSON object for storing additional workspace-specific configuration options, feature flags, and custom settings that don't warrant dedicated columns.",
          "defaultvalue": "",
          "example": "{\"timezone\":\"America/New_York\",\"businessHours\":{\"start\":\"09:00\",\"end\":\"17:00\"},\"features\":{\"threadedReplies\":true}}",
          "autoIncrement": false,
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "json",
            "jsonShape": "object"
          }
        }
      ],
      "relationships": [
        {
          "name": "webhook_config",
          "parentTable": "webhook",
          "parentColumn": {
            "name": "id",
            "type": "string",
            "childRelationshipType": "Config",
            "parentRelationshipType": "",
            "datatype": "VARCHAR",
            "primaryKey": true,
            "required": true,
            "description": "",
            "defaultvalue": "",
            "example": "",
            "autoIncrement": false,
            "maxLength": "32",
            "minLength": "10",
            "array": false,
            "isPII": "",
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "parentRelationship": "",
            "childRelationship": "webhook_config",
            "meta": {
              "kind": "string",
              "minLength": 10,
              "maxLength": 32
            }
          },
          "childTable": "config",
          "childColumn": {
            "name": "webhookId",
            "type": "string",
            "childRelationshipType": "",
            "parentRelationshipType": "Webhook",
            "datatype": "VARCHAR",
            "primaryKey": false,
            "required": false,
            "description": "Optional webhook-specific override",
            "defaultvalue": "",
            "example": "",
            "autoIncrement": false,
            "maxLength": "32",
            "array": false,
            "isPII": "",
            "create": true,
            "update": true,
            "get": true,
            "list": true,
            "relationship": "one",
            "parentRelationship": "webhook_config",
            "childRelationship": "",
            "meta": {
              "kind": "string",
              "maxLength": 32
            }
          },
          "type": "one",
          "complex": true
        }
      ],
      "lines": [],
      "keys": [
        {
          "name": "id",
          "type": "string",
          "childRelationshipType": "",
          "parentRelationshipType": "",
          "datatype": "VARCHAR",
          "primaryKey": true,
          "required": true,
          "description": "Configuration identity",
          "defaultvalue": "",
          "example": "",
          "autoIncrement": false,
          "maxLength": "32",
          "array": false,
          "isPII": "",
          "create": true,
          "update": true,
          "get": true,
          "list": true,
          "parentRelationship": "",
          "childRelationship": "",
          "meta": {
            "kind": "string",
            "maxLength": 32
          }
        }
      ],
      "indexes": [],
      "docs": {
        "name": "Config",
        "summary": "Configuration for config table",
        "version": "1.0.0"
      },
      "apis": {},
      "store": {
        "read": "redis",
        "write": "kurrentdb",
        "query": "redis",
        "projector": "redis"
      },
      "options": {
        "command": true,
        "create": true,
        "update": true,
        "read": "redis",
        "write": "kurrentdb",
        "query": "redis",
        "projector": "redis",
        "queue": false,
        "softDelete": false,
        "timestamps": true,
        "versioning": true,
        "logging": true,
        "auditing": true,
        "caching": true,
        "eventStreaming": false
      },
      "cancel": {
        "create": false,
        "update": false,
        "delete": false,
        "batch": false,
        "get": false
      },
      "redis": {
        "prefix": "",
        "version": "1.0",
        "category": "notification:webhook-config.config.v1",
        "ttl": 3600,
        "hash": true,
        "aggregate": "config"
      },
      "eventstream": {
        "boundedContext": "notification",
        "aggregate": "config",
        "version": "v1",
        "stream": "notification.webhookConfig.config",
        "createdEvent": "NotificationWebhookConfigConfigCreated.v1",
        "updatedEvent": "NotificationWebhookConfigConfigUpdated.v1",
        "deletedEvent": "NotificationWebhookConfigConfigDeleted.v1"
      },
      "permissions": {
        "bulk": [
          "update",
          "delete",
          "import"
        ],
        "adminOverride": true,
        "auditView": true,
        "custom": []
      },
      "domainName": "",
      "parentPath": []
    }
  ],
  "relationships": [
    {
      "name": "webhook_config",
      "parentTable": "webhook",
      "parentColumn": {
        "name": "id",
        "type": "string",
        "childRelationshipType": "Config",
        "parentRelationshipType": "",
        "datatype": "VARCHAR",
        "primaryKey": true,
        "required": true,
        "description": "",
        "defaultvalue": "",
        "example": "",
        "autoIncrement": false,
        "maxLength": "32",
        "minLength": "10",
        "array": false,
        "isPII": "",
        "create": true,
        "update": true,
        "get": true,
        "list": true,
        "parentRelationship": "",
        "childRelationship": "webhook_config",
        "meta": {
          "kind": "string",
          "minLength": 10,
          "maxLength": 32
        }
      },
      "childTable": "config",
      "childColumn": {
        "name": "webhookId",
        "type": "string",
        "childRelationshipType": "",
        "parentRelationshipType": "Webhook",
        "datatype": "VARCHAR",
        "primaryKey": false,
        "required": false,
        "description": "Optional webhook-specific override",
        "defaultvalue": "",
        "example": "",
        "autoIncrement": false,
        "maxLength": "32",
        "array": false,
        "isPII": "",
        "create": true,
        "update": true,
        "get": true,
        "list": true,
        "relationship": "one",
        "parentRelationship": "webhook_config",
        "childRelationship": "",
        "meta": {
          "kind": "string",
          "maxLength": 32
        }
      },
      "type": "one",
      "complex": true
    }
  ],
  "documentation": {
    "name": "Core Webhook Configuration",
    "description": "# üß© Core Slack Config ‚Äî General Overview\n\nThe **Core Slack Config** service is part of the broader **Notification Bounded Context**, responsible for managing all configuration aspects required to send Slack notifications within the platform. It provides the infrastructure and domain logic that connects a tenant‚Äôs Slack workspace to the notification ecosystem, ensuring secure, structured, and compliant communication between services and Slack.\n\n---\n\n## üéØ Purpose\n\nThe primary purpose of **Core Slack Config** is to manage the lifecycle of Slack-related configuration for each tenant. It defines *how*, *where*, and *under what conditions* Slack messages are sent. By maintaining configurations in a domain-driven, event-sourced model, the service guarantees auditability, tenant isolation, and consistency across all Slack-related operations.\n\n---\n\n## üß± Architectural Role\n\n**Core Slack Config** acts as the **configuration source of truth** for all Slack integrations in the system. It is not responsible for sending messages (that‚Äôs handled by the **Core Slack Execute** service), but instead manages the metadata, tokens, templates, and operational policies that determine how Slack notifications are constructed and authorized.\n\n### Key Roles:\n\n* Acts as the *control plane* for Slack notification configuration.\n* Provides secure storage and rotation for OAuth tokens and signing secrets.\n* Defines approved channels and message templates per workspace.\n* Publishes events consumed by other services (e.g., executors, auditors, or workflow engines).\n* Ensures compliance with security and audit policies via event sourcing.\n\n---\n\n## ‚öôÔ∏è Core Components\n\n| Aggregate          | Description                                                                                                           |\n| ------------------ | --------------------------------------------------------------------------------------------------------------------- |\n| **SlackWorkspace** | Represents a tenant‚Äôs Slack workspace connection, holding OAuth credentials, signing secrets, and workspace metadata. |\n| **SlackChannel**   | Defines the list of authorized channels and direct message endpoints available for message delivery.                  |\n| **SlackTemplate**  | Manages reusable message templates (text, block layouts, and variables) for structured notifications.                 |\n| **SlackAppConfig** | Contains global settings, retry/backoff parameters, logging preferences, and audit configurations.                    |\n\nEach aggregate is event-sourced and projected into Redis for fast reads. The system follows a **CQRS pattern**, separating command writes (EventStoreDB) from queries (Redis projections).\n\n---\n\n## üß© Data Flow Summary\n\n```\n[API Command] ‚Üí [Use Case] ‚Üí [ESDB Writer Repository] ‚Üí [EventStoreDB]\n       ‚Üì\n[Central Projection Service] ‚Üí [Redis Snapshot] + [Redis Query Index]\n       ‚Üì\n[Query API] ‚Üí [Consumer Services / UI]\n```\n\nThis architecture provides full event auditability in **EventStoreDB**, real-time read performance in **Redis**, and flexible event-driven synchronization via **BullMQ** projectors.\n\n---\n\n## üõ°Ô∏è Security and Compliance\n\n* **Authentication:** Managed via Keycloak (OAuth2 / OpenID Connect).\n* **Authorization:** Governed by Open Policy Agent (OPA) Rego policies.\n* **Secret Storage:** Slack tokens and signing secrets are stored securely using Doppler or another approved secret manager.\n* **Auditability:** Every configuration change emits domain events stored in EventStoreDB, ensuring immutable history and traceability.\n\n---\n\n## üöÄ Example Use Cases\n\n| Use Case                | Description                                                                                                                        |\n| ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |\n| **Tenant Onboarding**   | When a new tenant connects their Slack workspace, `SlackWorkspaceConfigured.v1` and `SlackAppConfigUpdated.v1` events are emitted. |\n| **Channel Management**  | Admins can link or disable channels for specific event types (e.g., approvals, alerts).                                            |\n| **Template Management** | Teams can create reusable message templates with placeholders for workflow data.                                                   |\n| **Policy Updates**      | Changing retry or logging settings emits `SlackAppConfigUpdated.v1`, allowing other services to adjust behavior dynamically.       |\n\n---\n\n## ‚úÖ Benefits\n\n* **Event-Sourced Reliability:** Every change is versioned, replayable, and fully auditable.\n* **Tenant Isolation:** Each Slack workspace and channel configuration is scoped to a tenant.\n* **High Performance:** Read models are served from Redis with millisecond-level latency.\n* **Extensible Design:** Supports additional configuration layers (e.g., threads, attachments, Slack workflows) in future iterations.\n* **Integration Friendly:** Easily integrates with other notification channels (email, SMS, webhook) through consistent event naming and structure.\n\n---\n\n## üß© Summary\n\nThe **Core Slack Config** service provides the configuration backbone for all Slack-based notifications. It ensures that every message sent through Slack is:\n\n* Securely authenticated.\n* Delivered through approved channels.\n* Formatted using consistent templates.\n* Managed under auditable, tenant-aware policies.\n\nThis service is a critical component of the Notification Bounded Context, enabling robust, enterprise-grade Slack integration within a modern, event-driven architecture.\n"
  }
}