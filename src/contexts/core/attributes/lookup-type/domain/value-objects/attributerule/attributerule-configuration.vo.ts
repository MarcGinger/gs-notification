// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  RecordVOInstance,
  createRecordVO,
  createRecordVOErrors,
} from 'src/shared/domain/value-objects';
import { AttributeruleErrors } from '../../errors/attributerule.errors';
import { AttributeruleProps } from '../../props';
import {
  AttributeruleCode,
  AttributeruleDescription,
  AttributeruleName,
  AttributeruleReference,
  AttributeruleRegex,
  AttributeruleRegexError,
  AttributeruleRequired,
  AttributeruleRequiredError,
  AttributeruleReserved,
  AttributeruleType,
  AttributeruleUnique,
  AttributeruleUniqueError,
} from './';

/**
 * LookupTypeAttributeruleConfiguration Value Object
 *
 * Embedded configuration for attributerule settings specific to a attributerule.
 * This is owned by the Attributerule aggregate and not shared across attributerule.
 * Replaces the separate LookupTypeAttributeruleConfigurationAggregate for attributerule-owned configurations.
 *
 * Composed of individual value objects for each field to ensure
 * proper validation and separation of concerns.
 */
export const LookupTypeAttributeruleConfiguration = createRecordVO({
  name: 'LookupTypeAttributeruleConfiguration',

  // JSON key validation - must start with letter/underscore, contain only alphanumeric, underscore
  keyPattern: /^[a-zA-Z_][a-zA-Z0-9_]*$/,

  // Basic validation will be handled at the application level
  // Advanced validation can be added via refinements if needed
  errors: createRecordVOErrors(
    AttributeruleErrors.INVALID_ATTRIBUTERULE_CONFIGURATION_DATA,
    'LookupTypeAttributeruleConfiguration',
  ),
});

/** Public instance type for LookupTypeAttributeruleConfiguration */
export type LookupTypeAttributeruleConfiguration = RecordVOInstance;

// Convenience creators using composed value objects
export const createAttributeruleConfiguration = (config: {
  code: AttributeruleCode;
  name: AttributeruleName;
  description: AttributeruleDescription;
  type: AttributeruleType;
  reference: AttributeruleReference;
  reserved: AttributeruleReserved;
  unique: AttributeruleUnique;
  uniqueError: AttributeruleUniqueError;
  required: AttributeruleRequired;
  requiredError: AttributeruleRequiredError;
  regex: AttributeruleRegex;
  regexError: AttributeruleRegexError;
}) => LookupTypeAttributeruleConfiguration.create(config);

export const attributeruleConfigurationFrom = (v: unknown) =>
  LookupTypeAttributeruleConfiguration.from(v);

/**
 * Converts LookupTypeAttributeruleConfiguration to Record<string, AttributeruleProps>
 */
export const attributeruleConfigurationToSnapshotProps = (
  config: LookupTypeAttributeruleConfiguration,
): Record<string, AttributeruleProps> => {
  return config.value as unknown as Record<string, AttributeruleProps>;
};
