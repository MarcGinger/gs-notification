// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  EnumVOInstance,
  createDisplayNameHelper,
  createEnumTypeGuards,
  createEnumVO,
  createEnumVOErrors,
  createStateTransitions,
} from 'src/shared/domain/value-objects';
import { Result, DomainError } from 'src/shared/errors';
import { AttributeruleErrors } from '../../errors/attributerule.errors';

// ============================================================================
// SINGLE SOURCE OF TRUTH
// ============================================================================

/**
 * AttributeruleType allowed values
 * Canonical definition used across all layers (API, Domain, DB)
 */
export const AttributeruleTypeValues = [
  'string',
  'boolean',
  'integer',
  'currency',
  'date',
  'datetime',
  'other',
] as const;
export type AttributeruleTypeValue = (typeof AttributeruleTypeValues)[number];

// ============================================================================
// VALUE OBJECT - Domain Layer
// ============================================================================

/**
 * AttributeruleType Value Object
 *
 * Provides validation, business rules, and rich domain behavior
 * for attributerule type enumerated values.
 *
 * @example
 * ```typescript
 * const type = AttributeruleType.create('string');
 * if (type.ok) {
 *   console.log(type.value.canTransitionTo('boolean'));
 * }
 * ```
 */
export const AttributeruleType = createEnumVO({
  name: 'AttributeruleType',
  values: AttributeruleTypeValues,
  required: true,
  errors: createEnumVOErrors(
    AttributeruleErrors.INVALID_TYPE,
    'AttributeruleType',
  ),
});

export type AttributeruleType = EnumVOInstance<AttributeruleTypeValue>;

// ============================================================================
// CONVENIENCE FACTORIES
// ============================================================================

export const createAttributeruleType = (
  value: AttributeruleTypeValue | undefined,
) => AttributeruleType.create(value) as Result<AttributeruleType, DomainError>;
export const attributeruleTypeFrom = (value: unknown) =>
  AttributeruleType.from(value) as Result<AttributeruleType, DomainError>;

// ============================================================================
// BUSINESS LOGIC HELPERS - Domain Behavior
// ============================================================================

/**
 * Valid state transitions for attributerule type
 */
const ATTRIBUTERULE_TYPE_TRANSITIONS = {
  string: [
    'boolean',
    'integer',
    'currency',
    'date',
    'datetime',
    'other',
  ] as const,
  boolean: [
    'string',
    'integer',
    'currency',
    'date',
    'datetime',
    'other',
  ] as const,
  integer: [
    'string',
    'boolean',
    'currency',
    'date',
    'datetime',
    'other',
  ] as const,
  currency: [
    'string',
    'boolean',
    'integer',
    'date',
    'datetime',
    'other',
  ] as const,
  date: [
    'string',
    'boolean',
    'integer',
    'currency',
    'datetime',
    'other',
  ] as const,
  datetime: [
    'string',
    'boolean',
    'integer',
    'currency',
    'date',
    'other',
  ] as const,
  other: [
    'string',
    'boolean',
    'integer',
    'currency',
    'date',
    'datetime',
  ] as const,
} as const;

/**
 * Display names for attributerule type values
 */
const ATTRIBUTERULE_TYPE_DISPLAY_NAMES = {
  string: 'String',
  boolean: 'Boolean',
  integer: 'Integer',
  currency: 'Currency',
  date: 'Date',
  datetime: 'Datetime',
  other: 'Other',
} as const;

/**
 * State machine helpers for AttributeruleType transitions
 */
const AttributeruleTypeTransitions = createStateTransitions(
  ATTRIBUTERULE_TYPE_TRANSITIONS,
);

/**
 * Type guards for AttributeruleType values
 */
const AttributeruleTypeGuards = createEnumTypeGuards(
  AttributeruleTypeValues,
  'AttributeruleType',
  (value, validValues) => ({
    ...AttributeruleErrors.INVALID_TYPE,
    detail: `AttributeruleType must be one of: ${validValues.join(', ')}, received: ${String(value)}`,
    context: { value, validValues },
  }),
);

/**
 * Display name helpers for AttributeruleType
 */
const AttributeruleTypeDisplay = createDisplayNameHelper(
  ATTRIBUTERULE_TYPE_DISPLAY_NAMES,
);

/**
 * Business logic functions for AttributeruleType
 */
export const AttributeruleTypeLogic = {
  /**
   * Check if transition from one state to another is valid
   */
  canTransition: (
    from: AttributeruleTypeValue,
    to: AttributeruleTypeValue,
  ): boolean => AttributeruleTypeTransitions.canTransition(from, to),

  /**
   * Get all valid next states from current state
   */
  getValidTransitions: (
    from: AttributeruleTypeValue,
  ): readonly AttributeruleTypeValue[] =>
    AttributeruleTypeTransitions.getValidTransitions(from),

  /**
   * Get human-readable display name
   */
  getDisplayName: (value: AttributeruleTypeValue): string =>
    AttributeruleTypeDisplay.getDisplayName(value),

  /**
   * Get all available values with metadata
   */
  getAllValues(): Array<{
    value: AttributeruleTypeValue;
    displayName: string;
    validTransitions: readonly AttributeruleTypeValue[];
  }> {
    return AttributeruleTypeValues.map((value) => ({
      value,
      displayName: AttributeruleTypeLogic.getDisplayName(value),
      validTransitions: AttributeruleTypeLogic.getValidTransitions(value),
    }));
  },
} as const;

// ============================================================================
// TYPE GUARDS - Runtime Type Checking
// ============================================================================

/**
 * Type guard to check if value is valid AttributeruleType
 */
export const isAttributeruleTypeValue = (
  value: unknown,
): value is AttributeruleTypeValue => AttributeruleTypeGuards.isValid(value);

/**
 * Assert that value is valid AttributeruleType (throws if invalid)
 */
export const assertAttributeruleTypeValue = (
  value: unknown,
): asserts value is AttributeruleTypeValue =>
  AttributeruleTypeGuards.assert(value);
