// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { AttributeRuleSetPermission } from '../../domain/permissions/attribute-rule-set.permissions';

/**
 * Field-level permission matrix for AttributeRuleSet updates.
 * Maps attributeRuleSet fields to the required permissions for modification.
 */
export class AttributeRuleSetFieldPermissionMatrix {
  private static readonly fieldPermissions: Record<
    string,
    AttributeRuleSetPermission[]
  > = {
    // Basic attributeRuleSet information fields - require standard update permission
    name: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
    description: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
    category: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],

    // Status fields - may require special permissions or admin rights
    active: [
      AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE,
      AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_ADMIN,
    ],
    status: [
      AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE,
      AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_ADMIN,
    ],

    // Financial fields - typically require higher permissions
    fees: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
    rates: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
    pricing: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],

    // Configuration fields
    channelCodes: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
    railCodes: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
    configuration: [
      AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE,
    ],

    // Administrative fields - require admin permissions
    tenant: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_ADMIN],
    auditInfo: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_ADMIN],
    metadata: [AttributeRuleSetPermission.DOMAIN_ATTRIBUTE_RULE_SET_UPDATE],
  };

  /**
   * Get required permissions for a specific field.
   * Returns empty array if field has no special permission requirements.
   */
  static getRequiredPermissions(
    fieldName: string,
  ): AttributeRuleSetPermission[] {
    return this.fieldPermissions[fieldName] || [];
  }

  /**
   * Check if a field has specific permission requirements.
   */
  static hasSpecialPermissions(fieldName: string): boolean {
    return fieldName in this.fieldPermissions;
  }

  /**
   * Get all fields that require a specific permission.
   */
  static getFieldsForPermission(
    permission: AttributeRuleSetPermission,
  ): string[] {
    return Object.entries(this.fieldPermissions)
      .filter(([, perms]) => perms.includes(permission))
      .map(([field]) => field);
  }

  /**
   * Get all defined field permissions.
   */
  static getAllFieldPermissions(): Record<
    string,
    AttributeRuleSetPermission[]
  > {
    return { ...this.fieldPermissions };
  }

  /**
   * Add or update permission requirements for a field.
   */
  static setFieldPermissions(
    fieldName: string,
    permissions: AttributeRuleSetPermission[],
  ): void {
    this.fieldPermissions[fieldName] = [...permissions];
  }
}
