// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { Module } from '@nestjs/common';
import { AttributesSharedModule } from '../attributes-shared.module';
import { AttributeRuleSetController } from './interface/http/controllers';
import {
  AttributeRuleSetApplicationService,
  AttributeRuleSetAuthorizationService,
  AttributeRuleSetAuthorizationAdapter,
} from './application/services';
import {
  IUpsertAttributeRuleSetUseCase,
  UpsertAttributeRuleSetUseCase,
  IGetAttributeRuleSetUseCase,
  GetAttributeRuleSetUseCase,
  IListAttributeRuleSetUseCase,
  ListAttributeRuleSetUseCase,
} from './application/use-cases';

// import { IAttributeRuleSetRepository } from './application/ports';
import {
  AttributeRuleSetQueryRepository,
  AttributeRuleSetReaderRepository,
  AttributeRuleSetWriterRepository,
} from './infrastructure/repositories';

// Tokens for injection - imported directly from port files
import {
  ATTRIBUTE_RULE_SET_READER_TOKEN,
  ATTRIBUTE_RULE_SET_WRITER_TOKEN,
  ATTRIBUTE_RULE_SET_QUERY_TOKEN,
} from './application/ports';
@Module({
  imports: [
    AttributesSharedModule, // Provides all common infrastructure and services
  ],
  controllers: [AttributeRuleSetController],
  providers: [
    // Repository implementations with tokens (before services that depend on them)
    {
      provide: ATTRIBUTE_RULE_SET_READER_TOKEN,
      useClass: AttributeRuleSetReaderRepository,
    },
    {
      provide: ATTRIBUTE_RULE_SET_WRITER_TOKEN,
      useClass: AttributeRuleSetWriterRepository,
    },
    {
      provide: ATTRIBUTE_RULE_SET_QUERY_TOKEN,
      useClass: AttributeRuleSetQueryRepository,
    },

    // Services that depend on repositories
    AttributeRuleSetApplicationService,
    AttributeRuleSetAuthorizationService,
    AttributeRuleSetAuthorizationAdapter,

    // Use case implementations
    {
      provide: IUpsertAttributeRuleSetUseCase,
      useClass: UpsertAttributeRuleSetUseCase,
    },
    {
      provide: IGetAttributeRuleSetUseCase,
      useClass: GetAttributeRuleSetUseCase,
    },
    {
      provide: IListAttributeRuleSetUseCase,
      useClass: ListAttributeRuleSetUseCase,
    },
  ],
  exports: [
    // Repository tokens for external module consumption
    ATTRIBUTE_RULE_SET_READER_TOKEN,
    ATTRIBUTE_RULE_SET_WRITER_TOKEN,
    ATTRIBUTE_RULE_SET_QUERY_TOKEN,
  ],
})
export class AttributeRuleSetModule {}
