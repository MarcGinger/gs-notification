// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  EnumVOInstance,
  createDisplayNameHelper,
  createEnumTypeGuards,
  createEnumVO,
  createEnumVOErrors,
  createStateTransitions,
} from 'src/shared/domain/value-objects';
import { Result, DomainError } from 'src/shared/errors';
import { AttributeRuleErrors } from '../../errors/attribute-rule.errors';

// ============================================================================
// SINGLE SOURCE OF TRUTH
// ============================================================================

/**
 * AttributeRuleType allowed values
 * Canonical definition used across all layers (API, Domain, DB)
 */
export const AttributeRuleTypeValues = [
  'string',
  'boolean',
  'integer',
  'currency',
  'date',
  'datetime',
  'other',
] as const;
export type AttributeRuleTypeValue = (typeof AttributeRuleTypeValues)[number];

// ============================================================================
// VALUE OBJECT - Domain Layer
// ============================================================================

/**
 * AttributeRuleType Value Object
 *
 * Provides validation, business rules, and rich domain behavior
 * for attributeRule type enumerated values.
 *
 * @example
 * ```typescript
 * const type = AttributeRuleType.create('string');
 * if (type.ok) {
 *   console.log(type.value.canTransitionTo('boolean'));
 * }
 * ```
 */
export const AttributeRuleType = createEnumVO({
  name: 'AttributeRuleType',
  values: AttributeRuleTypeValues,
  required: true,
  errors: createEnumVOErrors(
    AttributeRuleErrors.INVALID_TYPE,
    'AttributeRuleType',
  ),
});

export type AttributeRuleType = EnumVOInstance<AttributeRuleTypeValue>;

// ============================================================================
// CONVENIENCE FACTORIES
// ============================================================================

export const createAttributeRuleType = (
  value: AttributeRuleTypeValue | undefined,
) => AttributeRuleType.create(value) as Result<AttributeRuleType, DomainError>;
export const attributeRuleTypeFrom = (value: unknown) =>
  AttributeRuleType.from(value) as Result<AttributeRuleType, DomainError>;

// ============================================================================
// BUSINESS LOGIC HELPERS - Domain Behavior
// ============================================================================

/**
 * Valid state transitions for attributeRule type
 */
const ATTRIBUTE_RULE_TYPE_TRANSITIONS = {
  string: [
    'boolean',
    'integer',
    'currency',
    'date',
    'datetime',
    'other',
  ] as const,
  boolean: [
    'string',
    'integer',
    'currency',
    'date',
    'datetime',
    'other',
  ] as const,
  integer: [
    'string',
    'boolean',
    'currency',
    'date',
    'datetime',
    'other',
  ] as const,
  currency: [
    'string',
    'boolean',
    'integer',
    'date',
    'datetime',
    'other',
  ] as const,
  date: [
    'string',
    'boolean',
    'integer',
    'currency',
    'datetime',
    'other',
  ] as const,
  datetime: [
    'string',
    'boolean',
    'integer',
    'currency',
    'date',
    'other',
  ] as const,
  other: [
    'string',
    'boolean',
    'integer',
    'currency',
    'date',
    'datetime',
  ] as const,
} as const;

/**
 * Display names for attributeRule type values
 */
const ATTRIBUTE_RULE_TYPE_DISPLAY_NAMES = {
  string: 'String',
  boolean: 'Boolean',
  integer: 'Integer',
  currency: 'Currency',
  date: 'Date',
  datetime: 'Datetime',
  other: 'Other',
} as const;

/**
 * State machine helpers for AttributeRuleType transitions
 */
const AttributeRuleTypeTransitions = createStateTransitions(
  ATTRIBUTE_RULE_TYPE_TRANSITIONS,
);

/**
 * Type guards for AttributeRuleType values
 */
const AttributeRuleTypeGuards = createEnumTypeGuards(
  AttributeRuleTypeValues,
  'AttributeRuleType',
  (value, validValues) => ({
    ...AttributeRuleErrors.INVALID_TYPE,
    detail: `AttributeRuleType must be one of: ${validValues.join(', ')}, received: ${String(value)}`,
    context: { value, validValues },
  }),
);

/**
 * Display name helpers for AttributeRuleType
 */
const AttributeRuleTypeDisplay = createDisplayNameHelper(
  ATTRIBUTE_RULE_TYPE_DISPLAY_NAMES,
);

/**
 * Business logic functions for AttributeRuleType
 */
export const AttributeRuleTypeLogic = {
  /**
   * Check if transition from one state to another is valid
   */
  canTransition: (
    from: AttributeRuleTypeValue,
    to: AttributeRuleTypeValue,
  ): boolean => AttributeRuleTypeTransitions.canTransition(from, to),

  /**
   * Get all valid next states from current state
   */
  getValidTransitions: (
    from: AttributeRuleTypeValue,
  ): readonly AttributeRuleTypeValue[] =>
    AttributeRuleTypeTransitions.getValidTransitions(from),

  /**
   * Get human-readable display name
   */
  getDisplayName: (value: AttributeRuleTypeValue): string =>
    AttributeRuleTypeDisplay.getDisplayName(value),

  /**
   * Get all available values with metadata
   */
  getAllValues(): Array<{
    value: AttributeRuleTypeValue;
    displayName: string;
    validTransitions: readonly AttributeRuleTypeValue[];
  }> {
    return AttributeRuleTypeValues.map((value) => ({
      value,
      displayName: AttributeRuleTypeLogic.getDisplayName(value),
      validTransitions: AttributeRuleTypeLogic.getValidTransitions(value),
    }));
  },
} as const;

// ============================================================================
// TYPE GUARDS - Runtime Type Checking
// ============================================================================

/**
 * Type guard to check if value is valid AttributeRuleType
 */
export const isAttributeRuleTypeValue = (
  value: unknown,
): value is AttributeRuleTypeValue => AttributeRuleTypeGuards.isValid(value);

/**
 * Assert that value is valid AttributeRuleType (throws if invalid)
 */
export const assertAttributeRuleTypeValue = (
  value: unknown,
): asserts value is AttributeRuleTypeValue =>
  AttributeRuleTypeGuards.assert(value);
