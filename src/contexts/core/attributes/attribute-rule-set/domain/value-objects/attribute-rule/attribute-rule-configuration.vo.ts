// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  CollectionVOInstance,
  RecordVOInstance,
  createCollectionVO,
  createCollectionVOErrors,
  createRecordVO,
  createRecordVOErrors,
} from 'src/shared/domain/value-objects';
import { AttributeRuleErrors } from '../../errors/attribute-rule.errors';
import { AttributeRuleProps } from '../../props';
import {
  AttributeRuleCode,
  AttributeRuleDescription,
  AttributeRuleName,
  AttributeRuleReference,
  AttributeRuleRegex,
  AttributeRuleRegexError,
  AttributeRuleRequired,
  AttributeRuleRequiredError,
  AttributeRuleReserved,
  AttributeRuleType,
  AttributeRuleUnique,
  AttributeRuleUniqueError,
} from './';

/**
 * AttributeRuleSetAttributeRuleConfiguration Value Object (Item Type)
 *
 * Embedded configuration for attribute_rule settings specific to an attribute_rule.
 * This is owned by the AttributeRule aggregate and not shared across attribute_rule.
 * Replaces the separate AttributeRuleSetAttributeRuleConfigurationAggregate for attribute_rule-owned configurations.
 *
 * Composed of individual value objects for each field to ensure
 * proper validation and separation of concerns.
 */
export const AttributeRuleSetAttributeRuleConfigurationItem = createRecordVO({
  name: 'AttributeRuleSetAttributeRuleConfigurationItem',

  // Basic validation will be handled at the application level
  // Advanced validation can be added via refinements if needed
  errors: createRecordVOErrors(
    AttributeRuleErrors.INVALID_ATTRIBUTE_RULE_CONFIGURATION_DATA,
    'AttributeRuleSetAttributeRuleConfiguration',
  ),
});

/** Public instance type for AttributeRuleSetAttributeRuleConfigurationItem */
export type AttributeRuleSetAttributeRuleConfigurationItem = RecordVOInstance;

/**
 * AttributeRuleSetAttributeRuleConfiguration Collection Value Object
 * Collection of AttributeRuleSetAttributeRuleConfiguration items
 * Allows empty collections.
 * Enforces unique values.
 */
export const AttributeRuleSetAttributeRuleConfiguration = createCollectionVO<
  Record<string, unknown>,
  AttributeRuleSetAttributeRuleConfigurationItem
>({
  name: 'AttributeRuleSetAttributeRuleConfiguration',
  itemName: AttributeRuleSetAttributeRuleConfigurationItem.name,
  itemFactory: AttributeRuleSetAttributeRuleConfigurationItem,
  allowEmpty: true,
  allowDuplicates: false,

  errors: createCollectionVOErrors(
    AttributeRuleErrors.INVALID_ATTRIBUTE_RULE_CONFIGURATION_DATA,
    'AttributeRule AttributeRuleSetAttributeRuleConfiguration',
  ),
});

/** Public instance type for AttributeRuleSetAttributeRuleConfiguration */
export type AttributeRuleSetAttributeRuleConfiguration = CollectionVOInstance<
  Record<string, unknown>,
  AttributeRuleSetAttributeRuleConfigurationItem
>;

// Convenience creators using composed value objects
export const createAttributeRuleSetAttributeRuleConfiguration = (config: {
  code: AttributeRuleCode;
  name: AttributeRuleName;
  description: AttributeRuleDescription;
  type: AttributeRuleType;
  reference: AttributeRuleReference;
  reserved: AttributeRuleReserved;
  unique: AttributeRuleUnique;
  uniqueError: AttributeRuleUniqueError;
  required: AttributeRuleRequired;
  requiredError: AttributeRuleRequiredError;
  regex: AttributeRuleRegex;
  regexError: AttributeRuleRegexError;
}) => AttributeRuleSetAttributeRuleConfigurationItem.create(config);

export const attributeRuleSetAttributeRuleConfigurationFrom = (v: unknown) =>
  AttributeRuleSetAttributeRuleConfiguration.from(v);

export const createAttributeRuleConfiguration = (
  items: Record<string, unknown>[],
) => AttributeRuleSetAttributeRuleConfiguration.create(items);
export const attributeRuleConfigurationFrom = (items: unknown) =>
  AttributeRuleSetAttributeRuleConfiguration.from(items);

/**
 * Converts AttributeRuleSetAttributeRuleConfiguration to AttributeRuleProps
 */
export const attributeRuleConfigurationToSnapshotProps = (
  config: AttributeRuleSetAttributeRuleConfiguration,
): AttributeRuleProps => {
  return config.items as unknown as AttributeRuleProps;
};
