// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  RecordVOInstance,
  createRecordVO,
  createRecordVOErrors,
} from 'src/shared/domain/value-objects';
import { AttributeRuleErrors } from '../../errors/attribute-rule.errors';
import { AttributeRuleProps } from '../../props';
import {
  AttributeRuleCode,
  AttributeRuleDescription,
  AttributeRuleName,
  AttributeRuleReference,
  AttributeRuleRegex,
  AttributeRuleRegexError,
  AttributeRuleRequired,
  AttributeRuleRequiredError,
  AttributeRuleReserved,
  AttributeRuleType,
  AttributeRuleUnique,
  AttributeRuleUniqueError,
} from './';

/**
 * AttributeRuleSetAttributeRuleConfiguration Value Object
 *
 * Embedded configuration for attribute_rule settings specific to an attribute_rule.
 * This is owned by the AttributeRule aggregate and not shared across attribute_rule.
 * Replaces the separate AttributeRuleSetAttributeRuleConfigurationAggregate for attribute_rule-owned configurations.
 *
 * Composed of individual value objects for each field to ensure
 * proper validation and separation of concerns.
 */
export const AttributeRuleSetAttributeRuleConfiguration = createRecordVO({
  name: 'AttributeRuleSetAttributeRuleConfiguration',

  // JSON key validation - must start with letter/underscore, contain only alphanumeric, underscore
  keyPattern: /^[a-zA-Z_][a-zA-Z0-9_]*$/,
  allowEmpty: true,

  // Basic validation will be handled at the application level
  // Advanced validation can be added via refinements if needed
  errors: createRecordVOErrors(
    AttributeRuleErrors.INVALID_ATTRIBUTE_RULE_CONFIGURATION_DATA,
    'AttributeRuleSetAttributeRuleConfiguration',
  ),
});

/** Public instance type for AttributeRuleSetAttributeRuleConfiguration */
export type AttributeRuleSetAttributeRuleConfiguration = RecordVOInstance;

// Convenience creators using composed value objects
export const createAttributeRuleConfiguration = (config: {
  code: AttributeRuleCode;
  name: AttributeRuleName;
  description: AttributeRuleDescription;
  type: AttributeRuleType;
  reference: AttributeRuleReference;
  reserved: AttributeRuleReserved;
  unique: AttributeRuleUnique;
  uniqueError: AttributeRuleUniqueError;
  required: AttributeRuleRequired;
  requiredError: AttributeRuleRequiredError;
  regex: AttributeRuleRegex;
  regexError: AttributeRuleRegexError;
}) => AttributeRuleSetAttributeRuleConfiguration.create(config);

export const attributeRuleConfigurationFrom = (v: unknown) =>
  AttributeRuleSetAttributeRuleConfiguration.from(v);

/**
 * Converts AttributeRuleSetAttributeRuleConfiguration to Record<string, AttributeRuleProps>
 */
export const attributeRuleConfigurationToSnapshotProps = (
  config: AttributeRuleSetAttributeRuleConfiguration,
): Record<string, AttributeRuleProps> => {
  return config.value as unknown as Record<string, AttributeRuleProps>;
};
