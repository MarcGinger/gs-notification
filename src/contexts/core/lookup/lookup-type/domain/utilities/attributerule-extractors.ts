// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { extractPropertyValue } from 'src/shared/utilities/value-object.util';
import {
  LookupTypeAttributeruleConfiguration,
  AttributeruleTypeValue,
} from '../value-objects';

/**
 * attributerule Configuration Data Extractors
 *
 * Pure domain functions that extract structured data from attributerule value objects.
 * These functions understand domain structure but have no knowledge of DTOs or application concerns.
 */

/**
 * Extract attributerule configuration data from domain value object
 *
 * This function knows the internal structure of LookupTypeAttributeruleConfiguration
 * but remains pure domain logic without DTO knowledge.
 *
 * Expected input structure: LookupTypeAttributeruleConfiguration with nested attributerule configurations
 * Expected output: Record<string, T> where T contains attributerule properties
 */
export const extractAttributeruleConfigurationData = <T>(
  mapConfig: LookupTypeAttributeruleConfiguration,
): Record<string, T> => {
  if (!mapConfig || !mapConfig.value) {
    return {};
  }

  const result: Record<string, T> = {};
  const configValue = mapConfig.value;

  // Iterate over each item configuration in the value
  Object.keys(configValue).forEach((key) => {
    const config = configValue[key];
    if (config && typeof config === 'object') {
      // Handle both value objects and plain objects
      const extractedValue = {
        code: extractPropertyValue<string>(config, 'code'),
        name: extractPropertyValue<string>(config, 'name'),
        description: extractPropertyValue<string>(config, 'description'),
        type: extractPropertyValue<AttributeruleTypeValue>(config, 'type'),
        reference: extractPropertyValue<boolean>(config, 'reference'),
        reserved: extractPropertyValue<boolean>(config, 'reserved'),
        unique: extractPropertyValue<boolean>(config, 'unique'),
        uniqueError: extractPropertyValue<string>(config, 'uniqueError'),
        required: extractPropertyValue<boolean>(config, 'required'),
        requiredError: extractPropertyValue<string>(config, 'requiredError'),
        regex: extractPropertyValue<string>(config, 'regex'),
        regexError: extractPropertyValue<string>(config, 'regexError'),
      };
      result[key] = extractedValue as T;
    }
  });

  return result;
};
