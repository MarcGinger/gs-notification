// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { Module } from '@nestjs/common';
import { SlackRequestSharedModule } from '../slack-request-shared.module';
import { TemplateController } from './interface/http/controllers';
import {
  TemplateApplicationService,
  TemplateAuthorizationService,
  TemplateAuthorizationAdapter,
} from './application/services';
import {
  IGetTemplateUseCase,
  GetTemplateUseCase,
  IListTemplateUseCase,
  ListTemplateUseCase,
} from './application/use-cases';

// import { ITemplateRepository } from './application/ports';
import { TemplateQueryRepository } from './infrastructure/repositories';

// Tokens for injection - imported directly from port files
import { TEMPLATE_QUERY_TOKEN } from './application/ports';
@Module({
  imports: [
    SlackRequestSharedModule, // Provides all common infrastructure and services
  ],
  controllers: [TemplateController],
  providers: [
    // Repository implementations with tokens (before services that depend on them)
    {
      provide: TEMPLATE_QUERY_TOKEN,
      useClass: TemplateQueryRepository,
    },

    // Services that depend on repositories
    TemplateApplicationService,
    TemplateAuthorizationService,
    TemplateAuthorizationAdapter,
    {
      provide: IGetTemplateUseCase,
      useClass: GetTemplateUseCase,
    },
    {
      provide: IListTemplateUseCase,
      useClass: ListTemplateUseCase,
    },
  ],
  exports: [
    // Repository tokens for external module consumption
    TEMPLATE_QUERY_TOKEN,
  ],
})
export class TemplateModule {}
