// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { BaseCommand } from 'src/shared/application/commands/base.command';
import { IUserToken } from 'src/shared/security';
import { CorrelationUtil } from 'src/shared/utilities/correlation.util';
import { SecurityMetadata } from 'src/shared/domain/events/event-metadata';
import { SentRequestProps } from '../../domain/props';

/**
 * Enhanced Sent Request Command with security context and metadata
 */
export class SentRequestCommand extends BaseCommand {
  constructor(
    user: IUserToken,
    public readonly props: SentRequestProps,
    correlationId: string,
    securityContext: SecurityMetadata,
  ) {
    super(correlationId, user, securityContext);
  }

  /**
   * Factory method to create command with automatic security context
   */
  static create(
    user: IUserToken,
    props: SentRequestProps,
    correlationId: string = CorrelationUtil.generate(),
    additionalSecurityContext?: Partial<SecurityMetadata>,
  ): SentRequestCommand {
    const securityContext = BaseCommand.createSecurityMetadata(
      user,
      additionalSecurityContext,
    );

    return new SentRequestCommand(user, props, correlationId, securityContext);
  }
}
