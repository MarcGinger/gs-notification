// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  UuidVOInstance,
  createUuidVO,
  createUuidVOErrors,
} from 'src/shared/domain/value-objects';
import { RequestErrors } from '../errors/request.errors';

/**
 * Code UUID Value Object
 * Validates RFC-4122 UUID (version=v4); normalize=lowercase.
 *
 * UUID VO Refinements (commented examples):
 *
 * Version-specific validation:
 * - UUID v4 (random): { version: 4, variant: 'rfc4122' }
 * - UUID v1 (timestamp): { version: 1, acceptTimestamp: true }
 * - UUID v5 (namespace): { version: 5, namespace: 'specific' }
 *
 * Format flexibility:
 * - Strict format: { acceptHyphenless: false, acceptBraced: false }
 * - Accept compact: { acceptHyphenless: true } // 32 chars no hyphens
 * - Accept braced: { acceptBraced: true } // {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}
 *
 * Business rules:
 * - Entity ID: { version: 4, required: true, normalize: 'lower' }
 * - External ref: { acceptHyphenless: true, normalize: 'upper' }
 * - System generated: { version: 4, allowGeneration: true }
 */
export const RequestCode = createUuidVO({
  name: 'Code',
  required: true,
  version: 4,

  normalize: 'lowercase',

  // Optional: declarative refinements for advanced validation
  // refinements: [
  // ],

  errors: createUuidVOErrors(RequestErrors.INVALID_CODE, 'Code'),
});

/** Public instance type for Code */
export type RequestCode = UuidVOInstance;

// Convenience creators
export const createRequestCode = (v: string) => RequestCode.create(v);
export const requestCodeFrom = (v: unknown) => RequestCode.from(v);
