// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  EnumVOInstance,
  createDisplayNameHelper,
  createEnumTypeGuards,
  createEnumVO,
  createEnumVOErrors,
  createStateTransitions,
} from 'src/shared/domain/value-objects';
import { Result, DomainError } from 'src/shared/errors';
import { FullMessageErrors } from '../errors/full-message.errors';

// ============================================================================
// SINGLE SOURCE OF TRUTH
// ============================================================================

/**
 * FullMessageStatus allowed values
 * Canonical definition used across all layers (API, Domain, DB)
 */
export const FullMessageStatusValues = [
  'requested',
  'validated',
  'queued',
  'failed',
  'sent',
] as const;
export type FullMessageStatusValue = (typeof FullMessageStatusValues)[number];

// ============================================================================
// VALUE OBJECT - Domain Layer
// ============================================================================

/**
 * FullMessageStatus Value Object
 *
 * Provides validation, business rules, and rich domain behavior
 * for fullMessage status enumerated values.
 *
 * @example
 * ```typescript
 * const status = FullMessageStatus.create('requested');
 * if (status.ok) {
 *   console.log(status.value.canTransitionTo('validated'));
 * }
 * ```
 */
export const FullMessageStatus = createEnumVO({
  name: 'FullMessageStatus',
  values: FullMessageStatusValues,

  errors: createEnumVOErrors(
    FullMessageErrors.INVALID_STATUS,
    'FullMessageStatus',
  ),
});

export type FullMessageStatus = EnumVOInstance<FullMessageStatusValue>;

// ============================================================================
// CONVENIENCE FACTORIES
// ============================================================================

export const createFullMessageStatus = (
  value: FullMessageStatusValue | undefined,
) => FullMessageStatus.create(value) as Result<FullMessageStatus, DomainError>;
export const fullMessageStatusFrom = (value: unknown) =>
  FullMessageStatus.from(value) as Result<FullMessageStatus, DomainError>;

// ============================================================================
// BUSINESS LOGIC HELPERS - Domain Behavior
// ============================================================================

/**
 * Valid state transitions for fullMessage status
 */
const FULL_MESSAGE_STATUS_TRANSITIONS = {
  requested: ['validated', 'queued', 'failed', 'sent'] as const,
  validated: ['requested', 'queued', 'failed', 'sent'] as const,
  queued: ['requested', 'validated', 'failed', 'sent'] as const,
  failed: ['requested', 'validated', 'queued', 'sent'] as const,
  sent: ['requested', 'validated', 'queued', 'failed'] as const,
} as const;

/**
 * Display names for fullMessage status values
 */
const FULL_MESSAGE_STATUS_DISPLAY_NAMES = {
  requested: 'Requested',
  validated: 'Validated',
  queued: 'Queued',
  failed: 'Failed',
  sent: 'Sent',
} as const;

/**
 * State machine helpers for FullMessageStatus transitions
 */
const FullMessageStatusTransitions = createStateTransitions(
  FULL_MESSAGE_STATUS_TRANSITIONS,
);

/**
 * Type guards for FullMessageStatus values
 */
const FullMessageStatusGuards = createEnumTypeGuards(
  FullMessageStatusValues,
  'FullMessageStatus',
  (value, validValues) => ({
    ...FullMessageErrors.INVALID_STATUS,
    detail: `FullMessageStatus must be one of: ${validValues.join(', ')}, received: ${String(value)}`,
    context: { value, validValues },
  }),
);

/**
 * Display name helpers for FullMessageStatus
 */
const FullMessageStatusDisplay = createDisplayNameHelper(
  FULL_MESSAGE_STATUS_DISPLAY_NAMES,
);

/**
 * Business logic functions for FullMessageStatus
 */
export const FullMessageStatusLogic = {
  /**
   * Check if transition from one state to another is valid
   */
  canTransition: (
    from: FullMessageStatusValue,
    to: FullMessageStatusValue,
  ): boolean => FullMessageStatusTransitions.canTransition(from, to),

  /**
   * Get all valid next states from current state
   */
  getValidTransitions: (
    from: FullMessageStatusValue,
  ): readonly FullMessageStatusValue[] =>
    FullMessageStatusTransitions.getValidTransitions(from),

  /**
   * Get human-readable display name
   */
  getDisplayName: (value: FullMessageStatusValue): string =>
    FullMessageStatusDisplay.getDisplayName(value),

  /**
   * Get all available values with metadata
   */
  getAllValues(): Array<{
    value: FullMessageStatusValue;
    displayName: string;
    validTransitions: readonly FullMessageStatusValue[];
  }> {
    return FullMessageStatusValues.map((value) => ({
      value,
      displayName: FullMessageStatusLogic.getDisplayName(value),
      validTransitions: FullMessageStatusLogic.getValidTransitions(value),
    }));
  },
} as const;

// ============================================================================
// TYPE GUARDS - Runtime Type Checking
// ============================================================================

/**
 * Type guard to check if value is valid FullMessageStatus
 */
export const isFullMessageStatusValue = (
  value: unknown,
): value is FullMessageStatusValue => FullMessageStatusGuards.isValid(value);

/**
 * Assert that value is valid FullMessageStatus (throws if invalid)
 */
export const assertFullMessageStatusValue = (
  value: unknown,
): asserts value is FullMessageStatusValue =>
  FullMessageStatusGuards.assert(value);
