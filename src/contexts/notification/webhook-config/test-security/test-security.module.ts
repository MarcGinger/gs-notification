// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { Module } from '@nestjs/common';
import { WebhookConfigSharedModule } from '../webhook-config-shared.module';
import { TestSecurityController } from './interface/http/controllers';
import {
  TestSecurityApplicationService,
  TestSecurityAuthorizationService,
  TestSecurityAuthorizationAdapter,
} from './application/services';
import {
  ICreateTestSecurityUseCase,
  CreateTestSecurityUseCase,
  IUpdateTestSecurityUseCase,
  UpdateTestSecurityUseCase,
  IDeleteTestSecurityUseCase,
  DeleteTestSecurityUseCase,
  IGetTestSecurityUseCase,
  GetTestSecurityUseCase,
  IListTestSecurityUseCase,
  ListTestSecurityUseCase,
} from './application/use-cases';

// import { ITestSecurityRepository } from './application/ports';
import {
  TestSecurityQueryRepository,
  TestSecurityReaderRepository,
  TestSecurityWriterRepository,
} from './infrastructure/repositories';

// Tokens for injection - imported directly from port files
import {
  TEST_SECURITY_READER_TOKEN,
  TEST_SECURITY_WRITER_TOKEN,
  TEST_SECURITY_QUERY_TOKEN,
} from './application/ports';
@Module({
  imports: [
    WebhookConfigSharedModule, // Provides all common infrastructure and services
  ],
  controllers: [TestSecurityController],
  providers: [
    // Repository implementations with tokens (before services that depend on them)
    {
      provide: TEST_SECURITY_READER_TOKEN,
      useClass: TestSecurityReaderRepository,
    },
    {
      provide: TEST_SECURITY_WRITER_TOKEN,
      useClass: TestSecurityWriterRepository,
    },
    {
      provide: TEST_SECURITY_QUERY_TOKEN,
      useClass: TestSecurityQueryRepository,
    },

    // Services that depend on repositories
    TestSecurityApplicationService,
    TestSecurityAuthorizationService,
    TestSecurityAuthorizationAdapter,

    // Use case implementations
    {
      provide: ICreateTestSecurityUseCase,
      useClass: CreateTestSecurityUseCase,
    },
    {
      provide: IUpdateTestSecurityUseCase,
      useClass: UpdateTestSecurityUseCase,
    },
    {
      provide: IDeleteTestSecurityUseCase,
      useClass: DeleteTestSecurityUseCase,
    },
    {
      provide: IGetTestSecurityUseCase,
      useClass: GetTestSecurityUseCase,
    },
    {
      provide: IListTestSecurityUseCase,
      useClass: ListTestSecurityUseCase,
    },
  ],
  exports: [
    // Repository tokens for external module consumption
    TEST_SECURITY_READER_TOKEN,
    TEST_SECURITY_WRITER_TOKEN,
    TEST_SECURITY_QUERY_TOKEN,
  ],
})
export class TestSecurityModule {}
