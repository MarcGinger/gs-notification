// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import {
  EnumVOInstance,
  createDisplayNameHelper,
  createEnumTypeGuards,
  createEnumVO,
  createEnumVOErrors,
  createStateTransitions,
} from 'src/shared/domain/value-objects';
import { Result, DomainError } from 'src/shared/errors';
import { SecureTestErrors } from '../errors/secure-test.errors';

// ============================================================================
// SINGLE SOURCE OF TRUTH
// ============================================================================

/**
 * SecureTestType allowed values
 * Canonical definition used across all layers (API, Domain, DB)
 */
export const SecureTestTypeValues = [
  'none',
  'hmac',
  'basic',
  'apiKey',
  'oauth2ClientCredentials',
  'mtls',
] as const;
export type SecureTestTypeValue = (typeof SecureTestTypeValues)[number];

// ============================================================================
// VALUE OBJECT - Domain Layer
// ============================================================================

/**
 * SecureTestType Value Object
 *
 * Provides validation, business rules, and rich domain behavior
 * for secureTest type enumerated values.
 *
 * @example
 * ```typescript
 * const type = SecureTestType.create('none');
 * if (type.ok) {
 *   console.log(type.value.canTransitionTo('hmac'));
 * }
 * ```
 */
export const SecureTestType = createEnumVO({
  name: 'SecureTestType',
  values: SecureTestTypeValues,
  required: true,
  errors: createEnumVOErrors(SecureTestErrors.INVALID_TYPE, 'SecureTestType'),
});

export type SecureTestType = EnumVOInstance<SecureTestTypeValue>;

// ============================================================================
// CONVENIENCE FACTORIES
// ============================================================================

export const createSecureTestType = (value: SecureTestTypeValue | undefined) =>
  SecureTestType.create(value) as Result<SecureTestType, DomainError>;
export const secureTestTypeFrom = (value: unknown) =>
  SecureTestType.from(value) as Result<SecureTestType, DomainError>;

// ============================================================================
// BUSINESS LOGIC HELPERS - Domain Behavior
// ============================================================================

/**
 * Valid state transitions for secureTest type
 */
const SECURE_TEST_TYPE_TRANSITIONS = {
  none: ['hmac', 'basic', 'apiKey', 'oauth2ClientCredentials', 'mtls'] as const,
  hmac: ['none', 'basic', 'apiKey', 'oauth2ClientCredentials', 'mtls'] as const,
  basic: ['none', 'hmac', 'apiKey', 'oauth2ClientCredentials', 'mtls'] as const,
  apiKey: ['none', 'hmac', 'basic', 'oauth2ClientCredentials', 'mtls'] as const,
  oauth2ClientCredentials: ['none', 'hmac', 'basic', 'apiKey', 'mtls'] as const,
  mtls: ['none', 'hmac', 'basic', 'apiKey', 'oauth2ClientCredentials'] as const,
} as const;

/**
 * Display names for secureTest type values
 */
const SECURE_TEST_TYPE_DISPLAY_NAMES = {
  none: 'None',
  hmac: 'Hmac',
  basic: 'Basic',
  apiKey: 'Api Key',
  oauth2ClientCredentials: 'Oauth2client Credentials',
  mtls: 'Mtls',
} as const;

/**
 * State machine helpers for SecureTestType transitions
 */
const SecureTestTypeTransitions = createStateTransitions(
  SECURE_TEST_TYPE_TRANSITIONS,
);

/**
 * Type guards for SecureTestType values
 */
const SecureTestTypeGuards = createEnumTypeGuards(
  SecureTestTypeValues,
  'SecureTestType',
  (value, validValues) => ({
    ...SecureTestErrors.INVALID_TYPE,
    detail: `SecureTestType must be one of: ${validValues.join(', ')}, received: ${String(value)}`,
    context: { value, validValues },
  }),
);

/**
 * Display name helpers for SecureTestType
 */
const SecureTestTypeDisplay = createDisplayNameHelper(
  SECURE_TEST_TYPE_DISPLAY_NAMES,
);

/**
 * Business logic functions for SecureTestType
 */
export const SecureTestTypeLogic = {
  /**
   * Check if transition from one state to another is valid
   */
  canTransition: (
    from: SecureTestTypeValue,
    to: SecureTestTypeValue,
  ): boolean => SecureTestTypeTransitions.canTransition(from, to),

  /**
   * Get all valid next states from current state
   */
  getValidTransitions: (
    from: SecureTestTypeValue,
  ): readonly SecureTestTypeValue[] =>
    SecureTestTypeTransitions.getValidTransitions(from),

  /**
   * Get human-readable display name
   */
  getDisplayName: (value: SecureTestTypeValue): string =>
    SecureTestTypeDisplay.getDisplayName(value),

  /**
   * Get all available values with metadata
   */
  getAllValues(): Array<{
    value: SecureTestTypeValue;
    displayName: string;
    validTransitions: readonly SecureTestTypeValue[];
  }> {
    return SecureTestTypeValues.map((value) => ({
      value,
      displayName: SecureTestTypeLogic.getDisplayName(value),
      validTransitions: SecureTestTypeLogic.getValidTransitions(value),
    }));
  },
} as const;

// ============================================================================
// TYPE GUARDS - Runtime Type Checking
// ============================================================================

/**
 * Type guard to check if value is valid SecureTestType
 */
export const isSecureTestTypeValue = (
  value: unknown,
): value is SecureTestTypeValue => SecureTestTypeGuards.isValid(value);

/**
 * Assert that value is valid SecureTestType (throws if invalid)
 */
export const assertSecureTestTypeValue = (
  value: unknown,
): asserts value is SecureTestTypeValue => SecureTestTypeGuards.assert(value);
