// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { Module } from '@nestjs/common';
import { WebhookConfigSharedModule } from '../webhook-config-shared.module';
import { SecureTestController } from './interface/http/controllers';
import {
  SecureTestApplicationService,
  SecureTestAuthorizationService,
  SecureTestAuthorizationAdapter,
} from './application/services';
import {
  IUpsertSecureTestUseCase,
  UpsertSecureTestUseCase,
  IGetSecureTestUseCase,
  GetSecureTestUseCase,
} from './application/use-cases';

// import { ISecureTestRepository } from './application/ports';
import {
  SecureTestQueryRepository,
  SecureTestReaderRepository,
  SecureTestWriterRepository,
} from './infrastructure/repositories';

// Tokens for injection - imported directly from port files
import {
  SECURE_TEST_READER_TOKEN,
  SECURE_TEST_WRITER_TOKEN,
  SECURE_TEST_QUERY_TOKEN,
} from './application/ports';
@Module({
  imports: [
    WebhookConfigSharedModule, // Provides all common infrastructure and services
  ],
  controllers: [SecureTestController],
  providers: [
    // Repository implementations with tokens (before services that depend on them)
    {
      provide: SECURE_TEST_READER_TOKEN,
      useClass: SecureTestReaderRepository,
    },
    {
      provide: SECURE_TEST_WRITER_TOKEN,
      useClass: SecureTestWriterRepository,
    },
    {
      provide: SECURE_TEST_QUERY_TOKEN,
      useClass: SecureTestQueryRepository,
    },

    // Services that depend on repositories
    SecureTestApplicationService,
    SecureTestAuthorizationService,
    SecureTestAuthorizationAdapter,

    // Use case implementations
    {
      provide: IUpsertSecureTestUseCase,
      useClass: UpsertSecureTestUseCase,
    },
    {
      provide: IGetSecureTestUseCase,
      useClass: GetSecureTestUseCase,
    },
  ],
  exports: [
    // Repository tokens for external module consumption
    SECURE_TEST_READER_TOKEN,
    SECURE_TEST_WRITER_TOKEN,
    SECURE_TEST_QUERY_TOKEN,
  ],
})
export class SecureTestModule {}
