// @generated by gen v1.0.0 hash:regen
// REMOVE THIS COMMENT TO STOP AUTOMATIC UPDATES TO THIS BLOCK

import { ConfigDomainState } from '../../domain/state';
import { DetailConfigResponse } from '../dtos';

/**
 * Config DTO Assembler
 *
 * Converts ConfigDomainState (pure VOs) to transport DTOs.
 * Bridges the gap between rich domain objects and API response format.
 * Uses existing generated DTOs and follows established patterns.
 */

/**
 * Assembles DTOs from ConfigDomainState for API transport
 */
export class ConfigDtoAssembler {
  /**
   * Convert ConfigDomainState to detailed response DTO
   *
   * @param domainState - Rich domain state with VOs
   * @returns Clean DTO for API response
   */
  static toDetailResponse(
    domainState: ConfigDomainState,
  ): DetailConfigResponse {
    const dto = new DetailConfigResponse();

    // Extract primitive values from VOs
    dto.webhookId = domainState.webhookId.value;
    dto.strategy = domainState.strategy.value;
    dto.maxRetryAttempts = domainState.maxRetryAttempts.value;
    dto.retryBackoffSeconds = domainState.retryBackoffSeconds.value;
    dto.retryStrategy = domainState.retryStrategy?.value;
    dto.backoffJitterPct = domainState.backoffJitterPct?.value;
    dto.requestTimeoutMs = domainState.requestTimeoutMs?.value;
    dto.connectTimeoutMs = domainState.connectTimeoutMs?.value;
    dto.signatureAlgorithm = domainState.signatureAlgorithm?.value;
    dto.includeTimestampHeader = domainState.includeTimestampHeader?.value;
    dto.maxConcurrent = domainState.maxConcurrent?.value;
    dto.dlqEnabled = domainState.dlqEnabled?.value;
    dto.dlqMaxAgeSeconds = domainState.dlqMaxAgeSeconds?.value;
    dto.ordering = domainState.ordering?.value;
    dto.defaultLocale = domainState.defaultLocale.value;
    dto.metadata = domainState.metadata?.value;

    return dto;
  }
  /**
   * Convert array of ConfigDomainState to array of detail DTOs
   *
   * @param domainStates - Array of rich domain states
   * @returns Array of clean DTOs for detail API response
   */
  static toDetailResponseArray(
    domainStates: ConfigDomainState[],
  ): DetailConfigResponse[] {
    return domainStates.map((domainState) =>
      this.toDetailResponse(domainState),
    );
  }
}
